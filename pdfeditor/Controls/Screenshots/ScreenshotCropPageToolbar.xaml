<UserControl
	x:Class="pdfeditor.Controls.Screenshots.ScreenshotCropPageToolbar" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:pdfeditor.Controls.Screenshots" xmlns:localprop="clr-namespace:pdfeditor.Properties" xmlns:edittextbox="clr-namespace:pdfeditor.Controls.PageEditor" xmlns:cv="clr-namespace:pdfeditor.Utils.Converters" xmlns:commonLibCtrl="clr-namespace:CommonLib.Controls;assembly=CommonLib"
	TextBlock.Foreground="{DynamicResource TextBrushWhiteAndBlack}">
	<FrameworkElement.Resources>
		<ResourceDictionary>
			<cv:BooleanReverseConverter
				x:Key="BooleanReverseConverter" />
			<cv:BooleanToVisibilityConverter
				x:Key="BooleanToVisibilityConverter" />
			<SolidColorBrush
				x:Key="Button.Static.Background"
				Color="Transparent" />
			<SolidColorBrush
				x:Key="Button.Static.Border"
				Color="Transparent" />
			<SolidColorBrush
				x:Key="Button.MouseOver.Background"
				Color="#12FF0000" />
			<SolidColorBrush
				x:Key="Button.MouseOver.Border"
				Color="#12FF0000" />
			<SolidColorBrush
				x:Key="Button.Pressed.Background"
				Color="#1DFF0000" />
			<SolidColorBrush
				x:Key="Button.Pressed.Border"
				Color="#1DFF0000" />
			<SolidColorBrush
				x:Key="Button.Disabled.Background"
				Color="#FFF4F4F4" />
			<SolidColorBrush
				x:Key="Button.Disabled.Border"
				Color="#FFADB2B5" />
			<SolidColorBrush
				x:Key="Button.Disabled.Foreground"
				Color="#FF838383" />
			<Style
				x:Key="FocusVisual">
				<Setter
					Property="Control.Template">
					<Setter.Value>
						<ControlTemplate>
							<Rectangle
								Margin="2"
								SnapsToDevicePixels="True"
								Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"
								StrokeThickness="1"
								StrokeDashArray="1 2" />
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<Style
				x:Key="ButtonStyle"
				TargetType="{x:Type ButtonBase}">
				<Setter
					Property="FrameworkElement.FocusVisualStyle"
					Value="{StaticResource FocusVisual}" />
				<Setter
					Property="Background"
					Value="{StaticResource Button.Static.Background}" />
				<Setter
					Property="BorderBrush"
					Value="{StaticResource Button.Static.Border}" />
				<Setter
					Property="Foreground"
					Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
				<Setter
					Property="BorderThickness"
					Value="1" />
				<Setter
					Property="HorizontalContentAlignment"
					Value="Center" />
				<Setter
					Property="VerticalContentAlignment"
					Value="Center" />
				<Setter
					Property="Padding"
					Value="1" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type ButtonBase}">
							<Border
								x:Name="border"
								BorderThickness="{TemplateBinding Control.BorderThickness}"
								Background="{TemplateBinding Control.Background}"
								BorderBrush="{TemplateBinding Control.BorderBrush}"
								CornerRadius="4"
								SnapsToDevicePixels="True">
								<ContentPresenter
									x:Name="contentPresenter"
									RecognizesAccessKey="True"
									Margin="{TemplateBinding Control.Padding}"
									SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
									HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
									VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}"
									Focusable="False" />
							</Border>
							<ControlTemplate.Triggers>
								<Trigger
									Property="Button.IsDefaulted"
									Value="True">
									<Setter
										Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"
										TargetName="border"
										Property="Border.BorderBrush" />
								</Trigger>
								<Trigger
									Property="IsEnabled"
									Value="False">
									<Setter
										TargetName="border"
										Property="Border.Background"
										Value="{StaticResource Button.Disabled.Background}" />
									<Setter
										TargetName="border"
										Property="Border.BorderBrush"
										Value="{StaticResource Button.Disabled.Border}" />
									<Setter
										TargetName="contentPresenter"
										Property="TextElement.Foreground"
										Value="{StaticResource Button.Disabled.Foreground}" />
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<SolidColorBrush
				x:Key="ComboBox.Static.Background"
				Color="#FFFFFFFF" />
			<SolidColorBrush
				x:Key="ComboBox.Static.Border"
				Color="#FFD2D2D2" />
			<SolidColorBrush
				x:Key="ComboBox.Static.Glyph"
				Color="#FFD2D2D2" />
			<SolidColorBrush
				x:Key="ComboBox.MouseOver.Background"
				Color="#FFEFEFEF" />
			<SolidColorBrush
				x:Key="ComboBox.MouseOver.Border"
				Color="#FFCCCCCC" />
			<SolidColorBrush
				x:Key="ComboBox.MouseOver.Glyph"
				Color="#FFCCCCCC" />
			<SolidColorBrush
				x:Key="ComboBox.Pressed.Background"
				Color="#FFDFDFDF" />
			<SolidColorBrush
				x:Key="ComboBox.Pressed.Border"
				Color="#FFBBBBBB" />
			<SolidColorBrush
				x:Key="ComboBox.Pressed.Glyph"
				Color="#FFBBBBBB" />
			<SolidColorBrush
				x:Key="ComboBox.Disabled.Background"
				Color="#FFF0F0F0" />
			<SolidColorBrush
				x:Key="ComboBox.Disabled.Border"
				Color="#FFD9D9D9" />
			<SolidColorBrush
				x:Key="ComboBox.Disabled.Glyph"
				Color="#FFBFBFBF" />
			<Style
				x:Key="ComboBoxToggleButton"
				TargetType="{x:Type ToggleButton}">
				<Setter
					Property="FrameworkElement.OverridesDefaultStyle"
					Value="True" />
				<Setter
					Property="IsTabStop"
					Value="False" />
				<Setter
					Property="Focusable"
					Value="False" />
				<Setter
					Property="ButtonBase.ClickMode"
					Value="Press" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type ToggleButton}">
							<Border
								x:Name="templateRoot"
								SnapsToDevicePixels="True"
								BorderThickness="{TemplateBinding Control.BorderThickness}"
								BorderBrush="{StaticResource ComboBox.Static.Border}"
								Background="{StaticResource ComboBox.Static.Background}">
								<Border
									x:Name="splitBorder"
									SnapsToDevicePixels="True"
									HorizontalAlignment="Right"
									Width="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}"
									BorderThickness="1"
									BorderBrush="#00FFFFFF"
									Margin="0,0,4,0">
									<Path
										x:Name="arrow"
										HorizontalAlignment="Center"
										VerticalAlignment="Center"
										Data="M10,0 L5,5 L0,0"
										Margin="0"
										Stroke="{StaticResource ComboBox.Static.Glyph}" />
								</Border>
							</Border>
							<ControlTemplate.Triggers>
								<Trigger
									Property="UIElement.IsMouseOver"
									Value="True">
									<Setter
										TargetName="arrow"
										Property="Shape.Stroke"
										Value="{StaticResource ComboBox.MouseOver.Glyph}" />
								</Trigger>
								<DataTrigger
									Value="true"
									Binding="{Binding Path=IsMouseOver, RelativeSource={RelativeSource Self}}">
									<Setter
										TargetName="templateRoot"
										Property="Border.Background"
										Value="{StaticResource ComboBox.MouseOver.Background}" />
									<Setter
										TargetName="templateRoot"
										Property="Border.BorderBrush"
										Value="{StaticResource ComboBox.MouseOver.Border}" />
								</DataTrigger>
								<Trigger
									Property="IsPressed"
									Value="True">
									<Setter
										TargetName="arrow"
										Property="Shape.Stroke"
										Value="{StaticResource ComboBox.Pressed.Glyph}" />
								</Trigger>
								<DataTrigger
									Value="true"
									Binding="{Binding Path=IsPressed, RelativeSource={RelativeSource Self}}">
									<Setter
										TargetName="templateRoot"
										Property="Border.Background"
										Value="{StaticResource ComboBox.Pressed.Background}" />
									<Setter
										TargetName="templateRoot"
										Property="Border.BorderBrush"
										Value="{StaticResource ComboBox.Pressed.Border}" />
								</DataTrigger>
								<Trigger
									Property="IsEnabled"
									Value="False">
									<Setter
										TargetName="arrow"
										Property="Shape.Stroke"
										Value="{StaticResource ComboBox.Disabled.Glyph}" />
								</Trigger>
								<DataTrigger
									Value="false"
									Binding="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}}">
									<Setter
										TargetName="templateRoot"
										Property="Border.Background"
										Value="{StaticResource ComboBox.Disabled.Background}" />
									<Setter
										TargetName="templateRoot"
										Property="Border.BorderBrush"
										Value="{StaticResource ComboBox.Disabled.Border}" />
								</DataTrigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<ControlTemplate
				x:Key="ComboBoxTemplate"
				TargetType="{x:Type ComboBox}">
				<Grid
					x:Name="templateRoot"
					SnapsToDevicePixels="True">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							MinWidth="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}"
							Width="0" />
					</Grid.ColumnDefinitions>
					<Popup
						x:Name="PART_Popup"
						AllowsTransparency="True"
						Margin="1"
						Placement="Bottom"
						Grid.ColumnSpan="2"
						PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}"
						IsOpen="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
						<Border
							x:Name="dropDownBorder"
							BorderBrush="#3F000000"
							Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"
							BorderThickness="1"
							MaxHeight="{TemplateBinding ComboBox.MaxDropDownHeight}"
							MinWidth="{Binding ActualWidth, ElementName=templateRoot}">
							<ScrollViewer
								x:Name="DropDownScrollViewer">
								<Grid
									x:Name="grid"
									RenderOptions.ClearTypeHint="Enabled">
									<Canvas
										x:Name="canvas"
										HorizontalAlignment="Left"
										VerticalAlignment="Top"
										Height="0"
										Width="0">
										<Rectangle
											x:Name="opaqueRect"
											Fill="{Binding Background, ElementName=dropDownBorder}"
											Height="{Binding ActualHeight, ElementName=dropDownBorder}"
											Width="{Binding ActualWidth, ElementName=dropDownBorder}" />
									</Canvas>
									<ItemsPresenter
										x:Name="ItemsPresenter"
										KeyboardNavigation.DirectionalNavigation="Contained"
										SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" />
								</Grid>
							</ScrollViewer>
						</Border>
					</Popup>
					<ToggleButton
						x:Name="toggleButton"
						BorderBrush="{TemplateBinding Control.BorderBrush}"
						Background="{TemplateBinding Control.Background}"
						BorderThickness="{TemplateBinding Control.BorderThickness}"
						Grid.ColumnSpan="2"
						Style="{StaticResource ComboBoxToggleButton}"
						IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
					<ContentPresenter
						x:Name="contentPresenter"
						Content="{TemplateBinding ComboBox.SelectionBoxItem}"
						ContentTemplate="{TemplateBinding ComboBox.SelectionBoxItemTemplate}"
						ContentTemplateSelector="{TemplateBinding ItemsControl.ItemTemplateSelector}"
						ContentStringFormat="{TemplateBinding ComboBox.SelectionBoxItemStringFormat}"
						IsHitTestVisible="False"
						Margin="{TemplateBinding Control.Padding}"
						SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
						HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
						VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" />
				</Grid>
				<ControlTemplate.Triggers>
					<Trigger
						Property="ItemsControl.HasItems"
						Value="False">
						<Setter
							TargetName="dropDownBorder"
							Property="FrameworkElement.Height"
							Value="95" />
					</Trigger>
					<MultiTrigger>
						<MultiTrigger.Conditions>
							<Condition
								Property="ItemsControl.IsGrouping"
								Value="True" />
							<Condition
								Property="VirtualizingPanel.IsVirtualizingWhenGrouping"
								Value="False" />
						</MultiTrigger.Conditions>
						<Setter
							Property="ScrollViewer.CanContentScroll"
							Value="False" />
					</MultiTrigger>
					<Trigger
						SourceName="DropDownScrollViewer"
						Property="ScrollViewer.CanContentScroll"
						Value="False">
						<Setter
							TargetName="opaqueRect"
							Property="Canvas.Top"
							Value="{Binding VerticalOffset, ElementName=DropDownScrollViewer}" />
						<Setter
							TargetName="opaqueRect"
							Property="Canvas.Left"
							Value="{Binding HorizontalOffset, ElementName=DropDownScrollViewer}" />
					</Trigger>
				</ControlTemplate.Triggers>
			</ControlTemplate>
			<Style
				x:Key="EditComboboxStyle"
				TargetType="{x:Type ComboBox}">
				<Setter
					Property="Padding"
					Value="6,4" />
				<Setter
					Property="FontSize"
					Value="12" />
				<Setter
					Property="Template"
					Value="{StaticResource ComboBoxTemplate}" />
				<Setter
					Property="ItemContainerStyle">
					<Setter.Value>
						<Style
							TargetType="{x:Type ComboBoxItem}">
							<Setter
								Property="FontSize"
								Value="12" />
							<Setter
								Property="Padding"
								Value="6,4" />
						</Style>
					</Setter.Value>
				</Setter>
			</Style>
		</ResourceDictionary>
	</FrameworkElement.Resources>
	<Canvas
		x:Name="LayoutRoot"
		Width="100"
		Height="100"
		SizeChanged="LayoutRoot_SizeChanged">
		<Border
			x:Name="MenuBorder"
			BorderBrush="#77000000"
			HorizontalAlignment="Left"
			Width="Auto"
			MinWidth="132">
			<StackPanel
				Orientation="Vertical"
				Background="#00FFFFFF">
				<Button
					x:Name="AdvanceButton"
					Background="#FFFFFFFF"
					Height="36"
					Style="{StaticResource ButtonStyle}"
					HorizontalContentAlignment="Left"
					Margin="0,4,0,4"
					Click="AdvanceButton_Click">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="7" />
							<ColumnDefinition
								Width="25" />
							<ColumnDefinition
								Width="Auto"
								MinWidth="100" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="25" />
						</Grid.RowDefinitions>
						<Image
							Source="/Style/Resources/ContextMenu/ScreenshotAdvanced.png"
							Width="24"
							Height="24"
							Grid.Column="1" />
						<TextBlock
							Margin="5,1,10,0"
							FontSize="12"
							Text="{x:Static localprop:Resources.CropPageToolbarAdvanced}"
							VerticalAlignment="Center"
							Grid.Column="2" />
					</Grid>
				</Button>
				<Button
					x:Name="AcceptButton"
					Background="#FFFFFFFF"
					Height="36"
					IsDefault="True"
					Style="{StaticResource ButtonStyle}"
					HorizontalContentAlignment="Left"
					Margin="0,10,0,4"
					Click="AcceptButton_Click">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="7" />
							<ColumnDefinition
								Width="25" />
							<ColumnDefinition
								Width="Auto"
								MinWidth="100" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="25" />
						</Grid.RowDefinitions>
						<Image
							Source="/Style/Resources/ContextMenu/newScreenShot_Done.png"
							Width="24"
							Height="24"
							Grid.Column="1" />
						<TextBlock
							Foreground="#757575"
							Margin="5,1,0,0"
							FontSize="12"
							Text="{x:Static localprop:Resources.WinScreenshotToolbarDoneContent}"
							VerticalAlignment="Center"
							Grid.Column="2" />
					</Grid>
				</Button>
				<Button
					x:Name="CancelButton"
					Background="#FFFFFFFF"
					Height="36"
					Style="{StaticResource ButtonStyle}"
					HorizontalContentAlignment="Left"
					Margin="0,4,0,4"
					Click="CancelButton_Click">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="7" />
							<ColumnDefinition
								Width="25" />
							<ColumnDefinition
								Width="Auto"
								MinWidth="100" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="25" />
						</Grid.RowDefinitions>
						<Image
							Source="/Style/Resources/ContextMenu/newScreenshot_Cancel2.png"
							Width="24"
							Height="24"
							Grid.Column="1" />
						<TextBlock
							Foreground="#757575"
							Margin="5,1,0,0"
							FontSize="12"
							Text="{x:Static localprop:Resources.WinScreenshotToolbarCancelContent}"
							VerticalAlignment="Center"
							Grid.Column="2" />
					</Grid>
				</Button>
			</StackPanel>
		</Border>
	</Canvas>
</UserControl>
