<Window
	x:Class="pdfeditor.Controls.PageHeaderFooters.PageHeaderFooterDialog" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:pdfeditor.Controls.PageHeaderFooters" xmlns:control="clr-namespace:pdfeditor.Controls" xmlns:cv="clr-namespace:pdfeditor.Utils.Converters" xmlns:localprop="clr-namespace:pdfeditor.Properties" xmlns:commonLibCtrl="clr-namespace:CommonLib.Controls;assembly=CommonLib" xmlns:colorPicker="clr-namespace:CommonLib.Controls.ColorPickers;assembly=CommonLib" xmlns:pageEditor="clr-namespace:pdfeditor.Controls.PageEditor" xmlns:sys="clr-namespace:System;assembly=mscorlib"
	Background="{DynamicResource WindowsBackground}"
	TextBlock.Foreground="{DynamicResource TextBrushWhiteAndBlack}"
	Title="{StaticResource ApplicationTitle}"
	Height="600"
	Width="660"
	MinWidth="450">
	<Grid>
		<FrameworkElement.Resources>
			<ResourceDictionary>
				<ResourceDictionary.MergedDictionaries>
					<ResourceDictionary
						Source="/Controls/PageHeaderFooters/PageHeaderFooterStyles.xaml" />
				</ResourceDictionary.MergedDictionaries>
			</ResourceDictionary>
		</FrameworkElement.Resources>
		<Grid.RowDefinitions>
			<RowDefinition
				Height="*" />
			<RowDefinition
				Height="Auto" />
		</Grid.RowDefinitions>
		<ScrollViewer
			Focusable="False">
			<StackPanel
				Margin="20,20,20,12"
				Orientation="Vertical">
				<Grid
					x:Name="ContentContainer"
					LostFocus="ContentContainer_LostFocus">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="8" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="*" />
						<RowDefinition
							Height="8" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Rectangle
						Grid.ColumnSpan="4"
						HorizontalAlignment="Stretch"
						VerticalAlignment="Stretch"
						Stroke="{DynamicResource MainViewFontSizeBorder}"
						StrokeDashArray="2,2" />
					<Rectangle
						Grid.ColumnSpan="4"
						Grid.Row="2"
						HorizontalAlignment="Stretch"
						VerticalAlignment="Stretch"
						Stroke="{DynamicResource MainViewFontSizeBorder}"
						StrokeDashArray="2,2" />
					<HeaderedContentControl
						Header="{x:Static localprop:Resources.WinPageLeftHeaderTextLabelContent}"
						Margin="8,8,0,8"
						Focusable="False">
						<TextBox
							x:Name="LeftHeaderTextBox"
							Style="{StaticResource HeaderFooterContentTextBoxStyle}"
							Text="{Binding Path=Result.Text.LeftHeaderText, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
							TextChanged="LeftHeaderTextBox_TextChanged" />
					</HeaderedContentControl>
					<HeaderedContentControl
						Header="{x:Static localprop:Resources.WinPageCenterHeaderTextLabelContent}"
						Grid.Column="1"
						Margin="8,8,0,8"
						Focusable="False">
						<TextBox
							x:Name="CenterHeaderTextBox"
							Style="{StaticResource HeaderFooterContentTextBoxStyle}"
							Text="{Binding Path=Result.Text.CenterHeaderText, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
							TextChanged="LeftHeaderTextBox_TextChanged" />
					</HeaderedContentControl>
					<HeaderedContentControl
						Header="{x:Static localprop:Resources.WinPageRightHeaderTextLabelContent}"
						Grid.Column="2"
						Margin="8,8,0,8"
						Focusable="False">
						<TextBox
							x:Name="RightHeaderTextBox"
							Style="{StaticResource HeaderFooterContentTextBoxStyle}"
							Text="{Binding Path=Result.Text.RightHeaderText, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
							TextChanged="LeftHeaderTextBox_TextChanged" />
					</HeaderedContentControl>
					<HeaderedContentControl
						Header="{x:Static localprop:Resources.WinPageLeftFooterTextLabelContent}"
						Grid.Row="2"
						Margin="8,8,0,8"
						Focusable="False">
						<TextBox
							x:Name="LeftFooterTextBox"
							Style="{StaticResource HeaderFooterContentTextBoxStyle}"
							Text="{Binding Path=Result.Text.LeftFooterText, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
							TextChanged="LeftHeaderTextBox_TextChanged" />
					</HeaderedContentControl>
					<HeaderedContentControl
						Header="{x:Static localprop:Resources.WinPageCenterFooterTextLabelContent}"
						Grid.Row="2"
						Grid.Column="1"
						Margin="8,8,0,8"
						Focusable="False">
						<TextBox
							x:Name="CenterFooterTextBox"
							Style="{StaticResource HeaderFooterContentTextBoxStyle}"
							Text="{Binding Path=Result.Text.CenterFooterText, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
							TextChanged="LeftHeaderTextBox_TextChanged" />
					</HeaderedContentControl>
					<HeaderedContentControl
						Header="{x:Static localprop:Resources.WinPageRightFooterTextLabelContent}"
						Grid.Row="2"
						Grid.Column="2"
						Margin="8,8,0,8"
						Focusable="False">
						<TextBox
							x:Name="RightFooterTextBox"
							Style="{StaticResource HeaderFooterContentTextBoxStyle}"
							Text="{Binding Path=Result.Text.RightFooterText, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
							TextChanged="LeftHeaderTextBox_TextChanged" />
					</HeaderedContentControl>
				</Grid>
				<StackPanel
					Orientation="Horizontal"
					Margin="0,12,0,0">
					<ComboBox
						x:Name="FontSizeComboBox"
						MinWidth="22"
						Style="{StaticResource HFDialogComboboxStyle}"
						SelectionChanged="FontSizeComboBox_SelectionChanged">
						<ComboBoxItem>6pt</ComboBoxItem>
						<ComboBoxItem>8pt</ComboBoxItem>
						<ComboBoxItem>10pt</ComboBoxItem>
						<ComboBoxItem>11pt</ComboBoxItem>
						<ComboBoxItem>12pt</ComboBoxItem>
						<ComboBoxItem>14pt</ComboBoxItem>
						<ComboBoxItem>16pt</ComboBoxItem>
						<ComboBoxItem>18pt</ComboBoxItem>
						<ComboBoxItem>20pt</ComboBoxItem>
						<ComboBoxItem>22pt</ComboBoxItem>
						<ComboBoxItem>26pt</ComboBoxItem>
						<ComboBoxItem>28pt</ComboBoxItem>
						<ComboBoxItem>36pt</ComboBoxItem>
						<ComboBoxItem>48pt</ComboBoxItem>
						<ComboBoxItem>56pt</ComboBoxItem>
						<ComboBoxItem>72pt</ComboBoxItem>
					</ComboBox>
					<colorPicker:ColorPickerButton
						x:Name="TextColorButton"
						Margin="8,0,0,0"
						VerticalAlignment="Center"
						RecentColorsKey="HeaderFooterDialog"
						DefaultColor="#FF000000"
						SelectedColor="{Binding Path=Result.Color, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
						SelectedColorChanged="TextColorButton_SelectedColorChanged" />
				</StackPanel>
				<StackPanel
					Orientation="Horizontal"
					Margin="-8,8,0,0">
					<Button
						x:Name="DateButton"
						Style="{StaticResource NoStyleButton}"
						Click="DateButton_Click"
						PreviewMouseLeftButtonDown="DateButton_PreviewMouseLeftButtonDown">
						<StackPanel
							Orientation="Horizontal">
							<Image
								Source="{DynamicResource HFInsertDate}"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageInsertdateLabelContent}"
								Margin="4,0,4,0" />
							<Path
								Data="M0,2 L3,5 L6,2"
								Stroke="{DynamicResource TextBrushWhiteAndBlack}"
								StrokeThickness="1"
								VerticalAlignment="Center" />
						</StackPanel>
						<FrameworkElement.ContextMenu>
							<ContextMenu
								x:Name="DateButtonContextMenu"
								Style="{StaticResource DropDownMenuStyle}"
								MenuItem.Click="DateButtonContextMenu_Click" />
						</FrameworkElement.ContextMenu>
					</Button>
					<Button
						Style="{StaticResource NoStyleButton}"
						Margin="8,0,0,0"
						Click="InsertPageNumberButton_Click">
						<StackPanel
							Orientation="Horizontal">
							<Image
								Source="{DynamicResource HFInsertPageNumber}"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageInsertpagenumberLabelContent}"
								Margin="4,0,0,0" />
						</StackPanel>
					</Button>
					<Button
						x:Name="InsertFileNameButton"
						Style="{StaticResource NoStyleButton}"
						Margin="8,0,0,0"
						Click="InsertFileNameButton_Click">
						<StackPanel
							Orientation="Horizontal">
							<Image
								Source="{DynamicResource HFInsertFileName}"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageInsertfilenameLabelContent}"
								Margin="4,0,0,0" />
						</StackPanel>
					</Button>
				</StackPanel>
				<HeaderedContentControl
					Style="{StaticResource TitleContentStyle}"
					Header="{x:Static localprop:Resources.WinLabelRangeContent}"
					Margin="0,10,0,0">
					<Grid
						Margin="0,2,0,0"
						ToggleButton.Checked="HeaderFooterDialogPageRange_Checked">
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
						</Grid.RowDefinitions>
						<RadioButton
							x:Name="AllPageRadioButton"
							GroupName="HeaderFooterDialogPageRange"
							Foreground="{DynamicResource TextBrushWhiteAndBlack}"
							Style="{StaticResource DefaultRadioButtonStyle}"
							Content="{x:Static localprop:Resources.WinBtnAllPagesContent}"
							Grid.ColumnSpan="2"
							Margin="0,1,0,0"
							IsChecked="True" />
						<RadioButton
							x:Name="SelectedPagesRadioButton"
							GroupName="HeaderFooterDialogPageRange"
							Grid.Row="2"
							Margin="0,12,0,0"
							Foreground="{DynamicResource TextBrushWhiteAndBlack}"
							Style="{StaticResource DefaultRadioButtonStyle}"
							Content="{x:Static localprop:Resources.WinBtnSelectedPagesContent}" />
						<StackPanel
							Grid.Row="2"
							Grid.Column="1"
							Orientation="Horizontal"
							Margin="10,8,0,0"
							IsEnabled="{Binding ElementName=SelectedPagesRadioButton, Path=IsChecked}">
							<commonLibCtrl:NumberBox
								x:Name="SelectedPageStartBox"
								Minimum="1"
								NumberFormat="{}{0}"
								SmallChange="1"
								LargeChange="1"
								MinWidth="40"
								Maximum="{Binding ElementName=SelectedPageEndBox, Path=Value}"
								Value="{Binding Path=Result.SelectedPagesStart, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
							<TextBlock
								Text=" - "
								VerticalAlignment="Center" />
							<commonLibCtrl:NumberBox
								x:Name="SelectedPageEndBox"
								Maximum="100"
								NumberFormat="{}{0}"
								SmallChange="1"
								LargeChange="1"
								MinWidth="40"
								Minimum="{Binding ElementName=SelectedPageStartBox, Path=Value}"
								Value="{Binding Path=Result.SelectedPagesEnd, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</StackPanel>
					</Grid>
				</HeaderedContentControl>
				<HeaderedContentControl
					Style="{StaticResource TitleContentStyle}"
					Header="{x:Static localprop:Resources.WinLabelChildRangeContent}"
					Margin="0,20,0,0">
					<ComboBox
						x:Name="SubsetComboBox"
						HorizontalAlignment="Stretch"
						Style="{StaticResource HFDialogComboboxStyle}"
						SelectionChanged="SubsetComboBox_SelectionChanged">
						<ComboBoxItem
							Content="{x:Static localprop:Resources.WinCbxChildAllPagesContent}"
							IsSelected="True" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.WinCbxChildOddPagesContent}" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.WinCbxChildEvenPagesContent}" />
					</ComboBox>
				</HeaderedContentControl>
				<HeaderedContentControl
					Header="{x:Static localprop:Resources.WinPageMarginLabelContent}"
					Margin="0,20,0,0"
					Focusable="False">
					<Grid
						Margin="0,8,0,0">
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>
						<StackPanel
							Orientation="Horizontal">
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageMarginTopLabelContent}"
								VerticalAlignment="Center" />
							<commonLibCtrl:NumberBox
								Width="52"
								Height="22"
								Margin="8,0,0,0"
								IsArrowEnabled="True"
								NumberFormat="{}{0:0.00}"
								SmallChange="0.01"
								Value="{Binding Path=Result.Margin.TopCm, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</StackPanel>
						<StackPanel
							Orientation="Horizontal"
							Grid.Column="2"
							HorizontalAlignment="Center">
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageMarginBottomLabelContent}"
								VerticalAlignment="Center" />
							<commonLibCtrl:NumberBox
								Width="52"
								Height="22"
								Margin="8,0,0,0"
								IsArrowEnabled="True"
								NumberFormat="{}{0:0.00}"
								SmallChange="0.01"
								Value="{Binding Path=Result.Margin.BottomCm, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</StackPanel>
						<StackPanel
							Orientation="Horizontal"
							Grid.Column="4"
							HorizontalAlignment="Center">
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageMarginLeftLabelContent}"
								VerticalAlignment="Center" />
							<commonLibCtrl:NumberBox
								Width="52"
								Height="22"
								Margin="8,0,0,0"
								IsArrowEnabled="True"
								NumberFormat="{}{0:0.00}"
								SmallChange="0.01"
								Value="{Binding Path=Result.Margin.LeftCm, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</StackPanel>
						<StackPanel
							Orientation="Horizontal"
							Grid.Column="6">
							<TextBlock
								Text="{x:Static localprop:Resources.WinPageMarginRightLabelContent}"
								VerticalAlignment="Center" />
							<commonLibCtrl:NumberBox
								Width="52"
								Height="22"
								Margin="8,0,0,0"
								IsArrowEnabled="True"
								NumberFormat="{}{0:0.00}"
								SmallChange="0.01"
								Value="{Binding Path=Result.Margin.RightCm, Mode=TwoWay, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</StackPanel>
					</Grid>
				</HeaderedContentControl>
				<Grid
					Margin="0,20,0,0">
					<Rectangle
						HorizontalAlignment="Stretch"
						VerticalAlignment="Stretch"
						Stroke="{DynamicResource MainViewFontSizeBorder}"
						StrokeDashArray="2,2" />
					<StackPanel
						Orientation="Vertical">
						<TextBlock
							Text="{x:Static localprop:Resources.WinPagePreviewLabelContent}"
							Margin="12,12,0,0" />
						<StackPanel
							Orientation="Horizontal"
							Margin="12,10,0,0">
							<TextBlock
								Text="{x:Static localprop:Resources.WinPagePreviewPageLabelContent}"
								VerticalAlignment="Center" />
							<commonLibCtrl:NumberBox
								x:Name="PreviewPageIndexBox"
								Width="40"
								Height="22"
								Margin="8,0,0,0"
								IsArrowEnabled="True"
								SmallChange="1"
								LargeChange="5"
								NumberFormat="{}{0:0}"
								Minimum="1"
								ValueChanged="PreviewPageIndexBox_ValueChanged" />
						</StackPanel>
						<Grid
							Height="150"
							Margin="12,12,12,0">
							<local:TorePaperControl
								x:Name="Tore1"
								HorizontalAlignment="Stretch"
								Height="150" />
							<local:MarginControl
								x:Name="MarginControl1"
								HorizontalAlignment="Stretch"
								Height="150"
								MarginLeft="{Binding Path=Result.Margin.Left, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
								MarginTop="{Binding Path=Result.Margin.Top, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
								MarginRight="{Binding Path=Result.Margin.Right, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
								MarginBottom="{Binding Path=Result.Margin.Bottom, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</Grid>
						<Grid
							Height="150"
							Margin="12,12,12,12">
							<local:TorePaperControl
								x:Name="Tore2"
								ToreEdge="Top"
								HorizontalAlignment="Stretch"
								Height="150" />
							<local:MarginControl
								x:Name="MarginControl2"
								HorizontalAlignment="Stretch"
								Height="150"
								Edge="Bottom"
								MarginLeft="{Binding Path=Result.Margin.Left, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
								MarginTop="{Binding Path=Result.Margin.Top, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
								MarginRight="{Binding Path=Result.Margin.Right, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}"
								MarginBottom="{Binding Path=Result.Margin.Bottom, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:PageHeaderFooterDialog}}}" />
						</Grid>
					</StackPanel>
				</Grid>
			</StackPanel>
		</ScrollViewer>
		<StackPanel
			Grid.Row="1"
			Margin="20,8,20,20">
			<StackPanel
				HorizontalAlignment="Right"
				Orientation="Horizontal">
				<Button
					Content="{x:Static localprop:Resources.WinBtnCancelContent}"
					IsCancel="True"
					Margin="0,0,12,0"
					Style="{StaticResource DialogButtonStyle}"
					Click="CancelButton_Click" />
				<Button
					Content="{x:Static localprop:Resources.WinBtnOkContent}"
					Style="{StaticResource PrimaryDialogButtonStyle}"
					Click="OKButton_Click" />
			</StackPanel>
		</StackPanel>
	</Grid>
</Window>
