<UserControl
	x:Class="pdfeditor.Controls.Annotations.SignatureDragControl" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:pdfeditor.Controls.Annotations" xmlns:localprop="clr-namespace:pdfeditor.Properties" xmlns:cv="clr-namespace:pdfeditor.Utils.Converters" xmlns:control="clr-namespace:pdfeditor.Controls"
	Focusable="True">
	<FrameworkElement.Resources>
		<ResourceDictionary>
			<cv:BooleanToVisibilityReverseConverter
				x:Key="BooleanToVisibilityReverseConverter" />
			<cv:BooleanToVisibilityConverter
				x:Key="BooleanToVisibilityConverter" />
			<Style
				x:Key="btnstyle"
				TargetType="{x:Type ButtonBase}">
				<Style.Setters>
					<Setter
						Property="HorizontalAlignment"
						Value="Left" />
					<Setter
						Property="Background"
						Value="#00FFFFFF" />
					<Setter
						Property="BorderThickness"
						Value="0" />
					<Setter
						Property="TextBlock.Foreground"
						Value="{DynamicResource MainViewBtnInfoStyleText}" />
					<Setter
						Property="TextBlock.TextAlignment"
						Value="Left" />
					<Setter
						Property="TextBlock.FontSize"
						Value="12" />
					<Setter
						Property="Template">
						<Setter.Value>
							<ControlTemplate
								TargetType="{x:Type ButtonBase}">
								<Border
									x:Name="bborder"
									BorderBrush="{TemplateBinding Control.BorderBrush}"
									BorderThickness="{TemplateBinding Control.BorderThickness}"
									Margin="5,2,5,2"
									Background="{TemplateBinding Control.Background}"
									SnapsToDevicePixels="True">
									<ContentPresenter
										x:Name="contentPresenter"
										Focusable="False"
										HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
										Margin="{TemplateBinding Control.Padding}"
										RecognizesAccessKey="True"
										SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
										VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" />
								</Border>
								<ControlTemplate.Triggers>
									<Trigger
										Property="UIElement.IsMouseOver"
										Value="True">
										<Setter
											TargetName="bborder"
											Property="Border.CornerRadius"
											Value="3" />
										<Setter
											TargetName="bborder"
											Value="{DynamicResource SignaturePickerDelBtnBorder}"
											Property="Border.BorderBrush" />
										<Setter
											TargetName="bborder"
											Value="{DynamicResource BtnInfoMouseOverColor}"
											Property="Border.Background" />
									</Trigger>
									<Trigger
										Property="IsEnabled"
										Value="False">
										<Setter
											TargetName="bborder"
											Value="{DynamicResource MainViewUndoRedoUnEnabled}"
											Property="Border.BorderBrush" />
										<Setter
											Value="{DynamicResource MainViewUndoRedoUnEnabled}"
											Property="TextBlock.Foreground" />
									</Trigger>
									<Trigger
										Property="IsEnabled"
										Value="True">
										<Setter
											TargetName="bborder"
											Value="{DynamicResource MainViewBtnInfoStyleText}"
											Property="Border.BorderBrush" />
										<Setter
											Value="{DynamicResource MainViewBtnInfoStyleText}"
											Property="TextBlock.Foreground" />
									</Trigger>
								</ControlTemplate.Triggers>
							</ControlTemplate>
						</Setter.Value>
					</Setter>
				</Style.Setters>
			</Style>
		</ResourceDictionary>
	</FrameworkElement.Resources>
	<Canvas
		x:Name="LayoutRoot"
		Background="#00FFFFFF"
		Width="100"
		Height="100"
		SizeChanged="LayoutRoot_SizeChanged">
		<Rectangle
			x:Name="AnnotationDrag"
			Stroke="#FF0000FF"
			StrokeThickness="2"
			Width="100"
			Height="100"
			Fill="#00FFFFFF"
			StrokeDashArray="2.5 1.5"
			Opacity="0.4"
			UseLayoutRounding="False"
			SnapsToDevicePixels="False"
			Cursor="SizeAll" />
		<control:ResizeView
			x:Name="DragResizeView"
			ResizeDragStarted="ResizeView_ResizeDragStarted"
			ResizeDragCompleted="ResizeView_ResizeDragCompleted"
			CanDragCross="False"
			DragPlaceholderFill="#00FFFFFF"
			BorderBrush="#00FFFFFF"
			BorderThickness="1" />
		<Border
			Name="Border1"
			Background="{DynamicResource SolidBrushWhiteAndBlack}"
			BorderBrush="#FF808080"
			BorderThickness="1"
			CornerRadius="2"
			Margin="5,0,0,0"
			Canvas.Left="{Binding ElementName=DragResizeView, Path=Width}">
			<StackPanel
				x:Name="OperationPanel"
				Orientation="Vertical">
				<Button
					x:Name="Btn_Embed"
					Style="{StaticResource btnstyle}"
					Click="Btn_Embed_Click">
					<ContentControl.Content>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="10" />
								<ColumnDefinition
									Width="20" />
								<ColumnDefinition
									Width="Auto"
									MinWidth="155" />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition
									Height="25" />
							</Grid.RowDefinitions>
							<Image
								Source="{DynamicResource SignatureDargEmbed}"
								Grid.Column="1"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinSignatureContextMenuFlatten}"
								HorizontalAlignment="Left"
								Margin="10,0,0,0"
								VerticalAlignment="Center"
								Grid.Column="2"
								FontSize="12" />
						</Grid>
					</ContentControl.Content>
				</Button>
				<Button
					x:Name="Btn_Embed_InBatch"
					Style="{StaticResource btnstyle}"
					Visibility="{Binding IsApply, Converter='{StaticResource BooleanToVisibilityConverter}', RelativeSource={RelativeSource Mode=FindAncestor, AncestorLevel=1, AncestorType={x:Type UserControl}}}"
					Click="Btn_Embed_InBatch_Click">
					<ContentControl.Content>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="10" />
								<ColumnDefinition
									Width="20" />
								<ColumnDefinition
									Width="Auto"
									MinWidth="155" />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition
									Height="25" />
							</Grid.RowDefinitions>
							<Image
								Source="{DynamicResource SignatureDargEmbedInBatch}"
								Grid.Column="1"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinSignatureContextMenuFlattenInBatch}"
								HorizontalAlignment="Left"
								Margin="10,0,0,0"
								VerticalAlignment="Center"
								Grid.Column="2"
								FontSize="12" />
						</Grid>
					</ContentControl.Content>
				</Button>
				<Button
					x:Name="Btn_Delete"
					Style="{StaticResource btnstyle}"
					Click="Btn_Delete_Click">
					<ContentControl.Content>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="10" />
								<ColumnDefinition
									Width="20" />
								<ColumnDefinition
									Width="Auto"
									MinWidth="155" />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition
									Height="25" />
							</Grid.RowDefinitions>
							<Image
								Source="{DynamicResource SignatureDelItemButton}"
								Grid.Column="1"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinSignatureContextMenuDetele}"
								HorizontalAlignment="Left"
								Margin="10,0,0,0"
								VerticalAlignment="Center"
								Grid.Column="2"
								FontSize="12" />
						</Grid>
					</ContentControl.Content>
				</Button>
				<Button
					x:Name="Btn_Apply"
					Style="{StaticResource btnstyle}"
					Visibility="{Binding IsApply, Converter='{StaticResource BooleanToVisibilityReverseConverter}', RelativeSource={RelativeSource Mode=FindAncestor, AncestorLevel=1, AncestorType={x:Type UserControl}}}"
					Click="Btn_Apply_Click">
					<ContentControl.Content>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="10" />
								<ColumnDefinition
									Width="20" />
								<ColumnDefinition
									Width="Auto"
									MinWidth="155" />
							</Grid.ColumnDefinitions>
							<Grid.RowDefinitions>
								<RowDefinition
									Height="25" />
							</Grid.RowDefinitions>
							<Image
								Source="{DynamicResource SignatureDargApply}"
								Grid.Column="1"
								Width="16"
								Height="16" />
							<TextBlock
								Text="{x:Static localprop:Resources.WinSignatureContextMenuApplyMulPage}"
								HorizontalAlignment="Left"
								Margin="10,0,0,0"
								VerticalAlignment="Center"
								Grid.Column="2"
								FontSize="12" />
						</Grid>
					</ContentControl.Content>
				</Button>
				<Button
					x:Name="Btn_Delete_InBatch"
					Style="{StaticResource btnstyle}"
					Visibility="{Binding IsApply, Converter='{StaticResource BooleanToVisibilityConverter}', RelativeSource={RelativeSource Mode=FindAncestor, AncestorLevel=1, AncestorType={x:Type UserControl}}}"
					Click="Btn_Delete_InBatch_Click">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="10" />
							<ColumnDefinition
								Width="20" />
							<ColumnDefinition
								Width="Auto"
								MinWidth="155" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="25" />
						</Grid.RowDefinitions>
						<Image
							Source="{DynamicResource SignatureDargDeleteBatch}"
							Grid.Column="1"
							Width="16"
							Height="16" />
						<TextBlock
							Text="{x:Static localprop:Resources.WinSignatureContextMenuDeteleInBatch}"
							HorizontalAlignment="Left"
							Margin="10,0,0,0"
							VerticalAlignment="Center"
							Grid.Column="2"
							FontSize="12" />
					</Grid>
				</Button>
			</StackPanel>
		</Border>
	</Canvas>
</UserControl>
