<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:local="clr-namespace:pdfeditor.Controls.Annotations">
	<Style
		x:Key="{x:Type local:AnnotationToolTip}"
		TargetType="{x:Type local:AnnotationToolTip}">
		<Setter
			Property="Background"
			Value="{DynamicResource ToolTipBackground}" />
		<Setter
			Property="Foreground"
			Value="{DynamicResource ToolTipForeground}" />
		<Setter
			Property="BorderBrush"
			Value="{DynamicResource ToolTipBorderBrush}" />
		<Setter
			Property="BorderThickness"
			Value="1" />
		<Setter
			Property="Padding"
			Value="6,8" />
		<Setter
			Property="FontFamily"
			Value="{DynamicResource {x:Static SystemFonts.StatusFontFamilyKey}}" />
		<Setter
			Property="FontSize"
			Value="12" />
		<Setter
			Property="FontStyle"
			Value="{DynamicResource {x:Static SystemFonts.StatusFontStyleKey}}" />
		<Setter
			Property="FontWeight"
			Value="{DynamicResource {x:Static SystemFonts.StatusFontWeightKey}}" />
		<Setter
			Property="HorizontalContentAlignment"
			Value="Left" />
		<Setter
			Property="VerticalContentAlignment"
			Value="Center" />
		<Setter
			Property="ToolTip.HasDropShadow"
			Value="False" />
		<Setter
			Property="RenderOptions.ClearTypeHint"
			Value="Enabled" />
		<Setter
			Property="UIElement.SnapsToDevicePixels"
			Value="True" />
		<Setter
			Property="MaxWidth"
			Value="225" />
		<Setter
			Property="ContentTemplate">
			<Setter.Value>
				<DataTemplate>
					<TextBlock
						TextWrapping="Wrap"
						Text="{Binding}" />
				</DataTemplate>
			</Setter.Value>
		</Setter>
		<Setter
			Property="Template">
			<Setter.Value>
				<ControlTemplate
					TargetType="{x:Type local:AnnotationToolTip}">
					<Border
						Name="Border"
						CornerRadius="2"
						Background="{TemplateBinding Control.Background}"
						BorderBrush="{TemplateBinding Control.BorderBrush}"
						BorderThickness="{TemplateBinding Control.BorderThickness}"
						SnapsToDevicePixels="True">
						<Grid
							Margin="{TemplateBinding Control.Padding}">
							<FrameworkElement.Resources>
								<ResourceDictionary>
									<Style
										x:Key="WrappedTextBlockStyle"
										TargetType="{x:Type TextBlock}">
										<Setter
											Property="TextWrapping"
											Value="Wrap" />
									</Style>
								</ResourceDictionary>
							</FrameworkElement.Resources>
							<Grid.RowDefinitions>
								<RowDefinition
									Height="Auto" />
								<RowDefinition
									Height="*" />
							</Grid.RowDefinitions>
							<ContentPresenter
								TextElement.FontWeight="Bold"
								Content="{TemplateBinding local:AnnotationToolTip.Header}"
								ContentTemplate="{TemplateBinding local:AnnotationToolTip.HeaderTemplate}"
								HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
								VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}"
								SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}">
								<FrameworkElement.Resources>
									<ResourceDictionary>
										<Style
											x:Key="{x:Type TextBlock}"
											TargetType="{x:Type TextBlock}"
											BasedOn="{StaticResource WrappedTextBlockStyle}" />
									</ResourceDictionary>
								</FrameworkElement.Resources>
							</ContentPresenter>
							<ContentPresenter
								x:Name="ContentPresenter"
								Grid.Row="1"
								Margin="0,2,0,0"
								Content="{TemplateBinding ContentControl.Content}"
								ContentTemplate="{TemplateBinding ContentControl.ContentTemplate}"
								ContentStringFormat="{TemplateBinding ContentControl.ContentStringFormat}"
								ContentTemplateSelector="{TemplateBinding ContentControl.ContentTemplateSelector}"
								HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
								VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}"
								SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}">
								<FrameworkElement.Resources>
									<ResourceDictionary>
										<Style
											x:Key="{x:Type TextBlock}"
											TargetType="{x:Type TextBlock}"
											BasedOn="{StaticResource WrappedTextBlockStyle}" />
									</ResourceDictionary>
								</FrameworkElement.Resources>
							</ContentPresenter>
						</Grid>
					</Border>
					<ControlTemplate.Triggers>
						<Trigger
							Property="Content"
							Value="{x:Null}">
							<Setter
								TargetName="ContentPresenter"
								Property="Visibility"
								Value="Collapsed" />
						</Trigger>
						<Trigger
							Property="Content"
							Value="">
							<Setter
								TargetName="ContentPresenter"
								Property="Visibility"
								Value="Collapsed" />
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
</ResourceDictionary>
