<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:hc="https://handyorg.github.io/handycontrol" xmlns:local="clr-namespace:pdfeditor.Controls.PageEditor" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:interactivity="https://handyorg.github.io/handycontrol">
	<Style
		x:Key="{x:Type local:ImageViewer}"
		TargetType="{x:Type local:ImageViewer}">
		<Setter
			Property="Focusable"
			Value="False" />
		<Setter
			Property="Background"
			Value="#00FFFFFF" />
		<Setter
			Property="BorderThickness"
			Value="1" />
		<Setter
			Property="BorderBrush"
			Value="{DynamicResource BorderBrush}" />
		<Setter
			Property="Template">
			<Setter.Value>
				<ControlTemplate
					TargetType="{x:Type local:ImageViewer}">
					<Border
						BorderThickness="{TemplateBinding Control.BorderThickness}"
						BorderBrush="{TemplateBinding Control.BorderBrush}"
						Background="#00FFFFFF">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition />
								<RowDefinition
									Height="Auto" />
							</Grid.RowDefinitions>
							<interactivity:SimplePanel
								x:Name="PART_PanelMain"
								ClipToBounds="True"
								Grid.RowSpan="2">
								<Border
									HorizontalAlignment="Left"
									VerticalAlignment="Top"
									Height="{TemplateBinding local:ImageViewer.ImageHeight}"
									Width="{TemplateBinding local:ImageViewer.ImageWidth}"
									Margin="{TemplateBinding local:ImageViewer.ImageMargin}">
									<Image
										Name="PART_ImageMain"
										RenderOptions.BitmapScalingMode="HighQuality"
										RenderTransformOrigin="0.5,0.5"
										Source="{TemplateBinding local:ImageViewer.ImageSource}" />
								</Border>
							</interactivity:SimplePanel>
							<Border
								Grid.Row="0"
								Grid.RowSpan="2"
								Width="252"
								Height="162"
								HorizontalAlignment="Right"
								VerticalAlignment="Bottom"
								Background="{DynamicResource DarkOpacityBrush}"
								BorderBrush="{DynamicResource BorderBrush}"
								BorderThickness="1">
								<UIElement.Visibility>
									<MultiBinding
										Converter="{StaticResource BooleanArr2VisibilityConverter}">
										<Binding
											Path="ShowSmallImgInternal"
											RelativeSource="{RelativeSource TemplatedParent}" />
										<Binding
											Path="ShowImgMap"
											RelativeSource="{RelativeSource TemplatedParent}" />
									</MultiBinding>
								</UIElement.Visibility>
								<Canvas
									Name="PART_CanvasSmallImg"
									ClipToBounds="True"
									MaxWidth="250"
									MaxHeight="160">
									<Border
										Name="PART_BorderMove"
										UseLayoutRounding="True"
										Background="#00FFFFFF"
										Width="50"
										Height="70"
										BorderThickness="1"
										BorderBrush="#FF000000">
										<Border
											BorderThickness="1"
											BorderBrush="#FFFFFFFF" />
									</Border>
								</Canvas>
							</Border>
							<Border
								Name="PART_BorderBottom"
								UseLayoutRounding="True"
								Opacity="0"
								CornerRadius="4,4,0,0"
								Grid.Row="1"
								HorizontalAlignment="Center"
								Background="{DynamicResource DarkOpacityBrush}"
								Visibility="{TemplateBinding ShowToolBar, Converter={StaticResource Boolean2VisibilityConverter}}">
								<StackPanel
									Margin="30,10"
									VerticalAlignment="Center"
									Orientation="Horizontal">
									<Button
										Command="interactivity:ControlCommands.Save"
										Margin="6,0"
										Foreground="{DynamicResource TextIconBrush}"
										Padding="3"
										Style="{StaticResource ButtonIcon}"
										interactivity:IconElement.Geometry="{StaticResource SaveGeometry}" />
									<Button
										Command="interactivity:ControlCommands.Open"
										Margin="6,0"
										Foreground="{DynamicResource TextIconBrush}"
										Padding="3"
										Style="{StaticResource ButtonIcon}"
										interactivity:IconElement.Geometry="{StaticResource WindowsGeometry}" />
									<Border
										Margin="10,2"
										Background="#FFFFFFFF"
										Style="{StaticResource BorderVerticallySplitter}" />
									<Button
										Command="interactivity:ControlCommands.Reduce"
										Margin="6,0"
										Foreground="{DynamicResource TextIconBrush}"
										Padding="3"
										Style="{StaticResource ButtonIcon}"
										interactivity:IconElement.Geometry="{StaticResource ReduceGeometry}" />
									<TextBlock
										Margin="6,0"
										Text="{TemplateBinding local:ImageViewer.ScaleStr}"
										Foreground="{DynamicResource TextIconBrush}"
										Style="{StaticResource TextBlockSubTitle}" />
									<Button
										Command="interactivity:ControlCommands.Enlarge"
										Margin="6,0"
										Foreground="{DynamicResource TextIconBrush}"
										Padding="3"
										Style="{StaticResource ButtonIcon}"
										interactivity:IconElement.Geometry="{StaticResource EnlargeGeometry}" />
									<Button
										Command="interactivity:ControlCommands.Restore"
										Background="#00FFFFFF"
										Margin="6,0"
										Foreground="{DynamicResource TextIconBrush}"
										Style="{StaticResource ButtonCustom}">
										<Border
											BorderThickness="1"
											BorderBrush="#FFFFFFFF"
											Padding="2">
											<TextBlock
												Text="1:1" />
										</Border>
									</Button>
									<Border
										Margin="10,2"
										Background="#FFFFFFFF"
										Style="{StaticResource BorderVerticallySplitter}" />
									<Button
										Command="interactivity:ControlCommands.RotateLeft"
										CommandParameter=""
										Margin="6,0"
										Foreground="{DynamicResource TextIconBrush}"
										Padding="3"
										Style="{StaticResource ButtonIcon}"
										interactivity:IconElement.Geometry="{StaticResource RotateLeftGeometry}" />
									<Button
										Command="interactivity:ControlCommands.RotateRight"
										Margin="6,0,0,0"
										Foreground="{DynamicResource TextIconBrush}"
										Padding="3"
										Style="{StaticResource ButtonIcon}"
										interactivity:IconElement.Geometry="{StaticResource RotateRightGeometry}" />
									<ToggleButton
										Foreground="{DynamicResource TextIconBrush}"
										Margin="12,0,6,0"
										Padding="3"
										Style="{StaticResource ToggleButtonIconTransparent}"
										interactivity:IconElement.Geometry="{StaticResource FullScreenGeometry}"
										interactivity:IconSwitchElement.GeometrySelected="{StaticResource FullScreenReturnGeometry}"
										Visibility="{TemplateBinding ShowFullScreenButton, Converter={StaticResource Boolean2VisibilityConverter}}"
										IsChecked="{Binding IsFullScreen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
								</StackPanel>
							</Border>
						</Grid>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>
</ResourceDictionary>
