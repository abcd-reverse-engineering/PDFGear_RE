<Window
	x:Class="pdfeditor.Controls.PageEditor.CropPageApplyWin" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:pdfeditor.Controls.PageEditor" xmlns:localprop="clr-namespace:pdfeditor.Properties" xmlns:cv="clr-namespace:pdfeditor.Utils.Converters" xmlns:edittextbox="clr-namespace:pdfeditor.Controls.PageEditor"
	SizeToContent="WidthAndHeight"
	WindowStartupLocation="CenterScreen"
	ResizeMode="NoResize"
	Title="{StaticResource ApplicationTitle}"
	Height="200"
	Width="470">
	<FrameworkElement.Resources>
		<ResourceDictionary>
			<cv:BooleanReverseConverter
				x:Key="BooleanReverseConverter" />
			<SolidColorBrush
				x:Key="ComboBox.Static.Background"
				Color="#FFFFFFFF" />
			<SolidColorBrush
				x:Key="ComboBox.Static.Border"
				Color="#FFD2D2D2" />
			<SolidColorBrush
				x:Key="ComboBox.Static.Glyph"
				Color="#FFD2D2D2" />
			<SolidColorBrush
				x:Key="ComboBox.MouseOver.Background"
				Color="#FFEFEFEF" />
			<SolidColorBrush
				x:Key="ComboBox.MouseOver.Border"
				Color="#FFCCCCCC" />
			<SolidColorBrush
				x:Key="ComboBox.MouseOver.Glyph"
				Color="#FFCCCCCC" />
			<SolidColorBrush
				x:Key="ComboBox.Pressed.Background"
				Color="#FFDFDFDF" />
			<SolidColorBrush
				x:Key="ComboBox.Pressed.Border"
				Color="#FFBBBBBB" />
			<SolidColorBrush
				x:Key="ComboBox.Pressed.Glyph"
				Color="#FFBBBBBB" />
			<SolidColorBrush
				x:Key="ComboBox.Disabled.Background"
				Color="#FFF0F0F0" />
			<SolidColorBrush
				x:Key="ComboBox.Disabled.Border"
				Color="#FFD9D9D9" />
			<SolidColorBrush
				x:Key="ComboBox.Disabled.Glyph"
				Color="#FFBFBFBF" />
			<Style
				x:Key="ComboBoxToggleButton"
				TargetType="{x:Type ToggleButton}">
				<Setter
					Property="FrameworkElement.OverridesDefaultStyle"
					Value="True" />
				<Setter
					Property="IsTabStop"
					Value="False" />
				<Setter
					Property="Focusable"
					Value="False" />
				<Setter
					Property="ButtonBase.ClickMode"
					Value="Press" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type ToggleButton}">
							<Border
								x:Name="templateRoot"
								SnapsToDevicePixels="True"
								BorderThickness="{TemplateBinding Control.BorderThickness}"
								BorderBrush="{StaticResource ComboBox.Static.Border}"
								Background="{StaticResource ComboBox.Static.Background}">
								<Border
									x:Name="splitBorder"
									SnapsToDevicePixels="True"
									HorizontalAlignment="Right"
									Width="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}"
									BorderThickness="1"
									BorderBrush="#00FFFFFF"
									Margin="0,0,4,0">
									<Path
										x:Name="arrow"
										HorizontalAlignment="Center"
										VerticalAlignment="Center"
										Data="M10,0 L5,5 L0,0"
										Margin="0"
										Stroke="{StaticResource ComboBox.Static.Glyph}" />
								</Border>
							</Border>
							<ControlTemplate.Triggers>
								<Trigger
									Property="UIElement.IsMouseOver"
									Value="True">
									<Setter
										TargetName="arrow"
										Property="Shape.Stroke"
										Value="{StaticResource ComboBox.MouseOver.Glyph}" />
								</Trigger>
								<DataTrigger
									Value="true"
									Binding="{Binding Path=IsMouseOver, RelativeSource={RelativeSource Self}}">
									<Setter
										TargetName="templateRoot"
										Property="Border.Background"
										Value="{StaticResource ComboBox.MouseOver.Background}" />
									<Setter
										TargetName="templateRoot"
										Property="Border.BorderBrush"
										Value="{StaticResource ComboBox.MouseOver.Border}" />
								</DataTrigger>
								<Trigger
									Property="IsPressed"
									Value="True">
									<Setter
										TargetName="arrow"
										Property="Shape.Stroke"
										Value="{StaticResource ComboBox.Pressed.Glyph}" />
								</Trigger>
								<DataTrigger
									Value="true"
									Binding="{Binding Path=IsPressed, RelativeSource={RelativeSource Self}}">
									<Setter
										TargetName="templateRoot"
										Property="Border.Background"
										Value="{StaticResource ComboBox.Pressed.Background}" />
									<Setter
										TargetName="templateRoot"
										Property="Border.BorderBrush"
										Value="{StaticResource ComboBox.Pressed.Border}" />
								</DataTrigger>
								<Trigger
									Property="IsEnabled"
									Value="False">
									<Setter
										TargetName="arrow"
										Property="Shape.Stroke"
										Value="{StaticResource ComboBox.Disabled.Glyph}" />
								</Trigger>
								<DataTrigger
									Value="false"
									Binding="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}}">
									<Setter
										TargetName="templateRoot"
										Property="Border.Background"
										Value="{StaticResource ComboBox.Disabled.Background}" />
									<Setter
										TargetName="templateRoot"
										Property="Border.BorderBrush"
										Value="{StaticResource ComboBox.Disabled.Border}" />
								</DataTrigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<ControlTemplate
				x:Key="ComboBoxTemplate"
				TargetType="{x:Type ComboBox}">
				<Grid
					x:Name="templateRoot"
					SnapsToDevicePixels="True">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							MinWidth="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}"
							Width="0" />
					</Grid.ColumnDefinitions>
					<Popup
						x:Name="PART_Popup"
						AllowsTransparency="True"
						Margin="1"
						Placement="Bottom"
						Grid.ColumnSpan="2"
						PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}"
						IsOpen="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
						<Border
							x:Name="dropDownBorder"
							BorderBrush="#3F000000"
							Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"
							BorderThickness="1"
							MaxHeight="{TemplateBinding ComboBox.MaxDropDownHeight}"
							MinWidth="{Binding ActualWidth, ElementName=templateRoot}">
							<ScrollViewer
								x:Name="DropDownScrollViewer">
								<Grid
									x:Name="grid"
									RenderOptions.ClearTypeHint="Enabled">
									<Canvas
										x:Name="canvas"
										HorizontalAlignment="Left"
										VerticalAlignment="Top"
										Height="0"
										Width="0">
										<Rectangle
											x:Name="opaqueRect"
											Fill="{Binding Background, ElementName=dropDownBorder}"
											Height="{Binding ActualHeight, ElementName=dropDownBorder}"
											Width="{Binding ActualWidth, ElementName=dropDownBorder}" />
									</Canvas>
									<ItemsPresenter
										x:Name="ItemsPresenter"
										KeyboardNavigation.DirectionalNavigation="Contained"
										SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" />
								</Grid>
							</ScrollViewer>
						</Border>
					</Popup>
					<ToggleButton
						x:Name="toggleButton"
						BorderBrush="{TemplateBinding Control.BorderBrush}"
						Background="{TemplateBinding Control.Background}"
						BorderThickness="{TemplateBinding Control.BorderThickness}"
						Grid.ColumnSpan="2"
						Style="{StaticResource ComboBoxToggleButton}"
						IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
					<ContentPresenter
						x:Name="contentPresenter"
						Content="{TemplateBinding ComboBox.SelectionBoxItem}"
						ContentTemplate="{TemplateBinding ComboBox.SelectionBoxItemTemplate}"
						ContentTemplateSelector="{TemplateBinding ItemsControl.ItemTemplateSelector}"
						ContentStringFormat="{TemplateBinding ComboBox.SelectionBoxItemStringFormat}"
						IsHitTestVisible="False"
						Margin="{TemplateBinding Control.Padding}"
						SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
						HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
						VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" />
				</Grid>
				<ControlTemplate.Triggers>
					<Trigger
						Property="ItemsControl.HasItems"
						Value="False">
						<Setter
							TargetName="dropDownBorder"
							Property="FrameworkElement.Height"
							Value="95" />
					</Trigger>
					<MultiTrigger>
						<MultiTrigger.Conditions>
							<Condition
								Property="ItemsControl.IsGrouping"
								Value="True" />
							<Condition
								Property="VirtualizingPanel.IsVirtualizingWhenGrouping"
								Value="False" />
						</MultiTrigger.Conditions>
						<Setter
							Property="ScrollViewer.CanContentScroll"
							Value="False" />
					</MultiTrigger>
					<Trigger
						SourceName="DropDownScrollViewer"
						Property="ScrollViewer.CanContentScroll"
						Value="False">
						<Setter
							TargetName="opaqueRect"
							Property="Canvas.Top"
							Value="{Binding VerticalOffset, ElementName=DropDownScrollViewer}" />
						<Setter
							TargetName="opaqueRect"
							Property="Canvas.Left"
							Value="{Binding HorizontalOffset, ElementName=DropDownScrollViewer}" />
					</Trigger>
				</ControlTemplate.Triggers>
			</ControlTemplate>
			<Style
				x:Key="EditComboboxStyle"
				TargetType="{x:Type ComboBox}">
				<Setter
					Property="Padding"
					Value="6,4" />
				<Setter
					Property="FontSize"
					Value="12" />
				<Setter
					Property="Template"
					Value="{StaticResource ComboBoxTemplate}" />
				<Setter
					Property="ItemContainerStyle">
					<Setter.Value>
						<Style
							TargetType="{x:Type ComboBoxItem}">
							<Setter
								Property="FontSize"
								Value="12" />
							<Setter
								Property="Padding"
								Value="6,4" />
						</Style>
					</Setter.Value>
				</Setter>
			</Style>
		</ResourceDictionary>
	</FrameworkElement.Resources>
	<Grid
		ShowGridLines="False">
		<Grid.RowDefinitions>
			<RowDefinition
				Height="15" />
			<RowDefinition
				Height="30" />
			<RowDefinition
				Height="30" />
			<RowDefinition
				Height="15" />
			<RowDefinition
				Height="30" />
			<RowDefinition
				Height="50" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition
				Width="20" />
			<ColumnDefinition
				Width="Auto"
				MinWidth="70" />
			<ColumnDefinition
				Width="15" />
			<ColumnDefinition
				Width="Auto"
				MinWidth="100" />
			<ColumnDefinition
				Width="160" />
			<ColumnDefinition
				Width="20" />
		</Grid.ColumnDefinitions>
		<TextBlock
			Grid.Row="1"
			Grid.Column="1"
			FontSize="12"
			HorizontalAlignment="Left"
			VerticalAlignment="Center"
			Text="{x:Static localprop:Resources.WinLabelRangeContent}" />
		<RadioButton
			x:Name="AllPagesRadioButton"
			Grid.Row="1"
			Grid.Column="3"
			FontSize="12"
			IsChecked="True"
			GroupName="pageRangeGroup"
			HorizontalAlignment="Left"
			VerticalContentAlignment="Center"
			Content="{x:Static localprop:Resources.WinBtnAllPagesContent}" />
		<RadioButton
			x:Name="SelectedPagesRadioButton"
			Grid.Row="2"
			Grid.Column="3"
			GroupName="pageRangeGroup"
			VerticalContentAlignment="Center"
			FontSize="12"
			Content="{x:Static localprop:Resources.WinLabelSelectedpagesContent}" />
		<edittextbox:PageRangeTextBox
			x:Name="RangeBox"
			Grid.Row="2"
			Grid.Column="4"
			Height="22"
			FontSize="12"
			VerticalContentAlignment="Center"
			IsEnabled="{Binding ElementName=SelectedPagesRadioButton, Path=IsChecked}" />
		<TextBlock
			Grid.Row="3"
			Grid.Column="4"
			FontSize="12"
			HorizontalAlignment="Left"
			VerticalAlignment="Bottom"
			Text="{x:Static localprop:Resources.WinPageEgContent}" />
		<TextBlock
			Grid.Row="4"
			Grid.Column="1"
			FontSize="12"
			HorizontalAlignment="Left"
			VerticalAlignment="Center"
			Text="{x:Static localprop:Resources.WinLabelChildRangeContent}" />
		<ComboBox
			x:Name="applyToComboBox"
			Grid.Row="4"
			Grid.Column="3"
			Grid.ColumnSpan="2"
			Height="25"
			Style="{StaticResource EditComboboxStyle}"
			VerticalContentAlignment="Center"
			IsEnabled="{Binding ElementName=CurrentPageRadioButton, Path=IsChecked, Converter='{StaticResource BooleanReverseConverter}'}">
			<ComboBoxItem
				Content="{x:Static localprop:Resources.WinCbxChildAllPagesContent}"
				IsSelected="True" />
			<ComboBoxItem
				Content="{x:Static localprop:Resources.WinCbxChildOddPagesContent}" />
			<ComboBoxItem
				Content="{x:Static localprop:Resources.WinCbxChildEvenPagesContent}" />
		</ComboBox>
		<Grid
			Row="5"
			Column="1"
			ColumnSpan="4">
			<StackPanel
				Orientation="Horizontal"
				HorizontalAlignment="Right"
				VerticalAlignment="Center">
				<Button
					x:Name="btnCancel"
					Style="{StaticResource DialogButtonStyle}"
					FontSize="12"
					Content="{x:Static localprop:Resources.WinBtnCancelContent}"
					IsCancel="True"
					Click="btnCancel_Click" />
				<Button
					x:Name="btnOk"
					Style="{StaticResource PrimaryDialogButtonStyle}"
					Margin="10,0,0,0"
					FontSize="12"
					Content="{x:Static localprop:Resources.WinBtnOkContent}"
					Click="btnOk_Click" />
			</StackPanel>
		</Grid>
	</Grid>
</Window>
