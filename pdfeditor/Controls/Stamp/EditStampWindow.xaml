<Window
	x:Class="pdfeditor.Controls.Stamp.EditStampWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:pdfeditor.Controls.Stamp" xmlns:colorpickers="clr-namespace:CommonLib.Controls.ColorPickers;assembly=CommonLib" xmlns:Themes="clr-namespace:CommonLib.Controls;assembly=CommonLib" xmlns:stamp="clr-namespace:pdfeditor.Controls.Stamp" xmlns:localprop="clr-namespace:pdfeditor.Properties" xmlns:commonCtrl="clr-namespace:CommonLib.Controls;assembly=CommonLib" xmlns:sys="clr-namespace:System;assembly=mscorlib" xmlns:cv2="clr-namespace:pdfeditor.Controls.Menus.ToolbarSettings" xmlns:cv="clr-namespace:pdfeditor.Utils.Converters"
	Foreground="{DynamicResource TextBrushWhiteAndBlack}"
	Background="{DynamicResource WindowsBackground}"
	ResizeMode="NoResize"
	Title="{x:Static localprop:Resources.EditStampWinTitle}"
	Height="575"
	Width="760">
	<FrameworkElement.Resources>
		<ResourceDictionary>
			<Style
				x:Key="btnStyle"
				TargetType="{x:Type Button}">
				<Setter
					Property="Width"
					Value="80" />
				<Setter
					Property="Height"
					Value="32" />
				<Setter
					Property="BorderBrush"
					Value="#EEEEEE" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type Button}">
							<Border
								x:Name="bborder"
								BorderBrush="{TemplateBinding Control.BorderBrush}"
								CornerRadius="2"
								BorderThickness="{TemplateBinding Control.BorderThickness}"
								Background="{TemplateBinding Control.Background}"
								SnapsToDevicePixels="True">
								<ContentPresenter
									x:Name="contentPresenter"
									Focusable="False"
									HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
									Margin="{TemplateBinding Control.Padding}"
									RecognizesAccessKey="True"
									SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
									VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" />
							</Border>
							<ControlTemplate.Triggers>
								<Trigger
									Property="UIElement.IsMouseOver"
									Value="True">
									<Setter
										TargetName="bborder"
										Property="Border.BorderBrush"
										Value="#EEEEEE" />
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<Style
				x:Key="btnStyle2"
				TargetType="{x:Type Button}">
				<Setter
					Property="BorderBrush"
					Value="#D2D2D2" />
				<Setter
					Property="BorderThickness"
					Value="1" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type Button}">
							<Border
								x:Name="bborder"
								SnapsToDevicePixels="True"
								Background="#00FFFFFF">
								<Grid
									ColumnDefinitions=""
									RowDefinitions="">
									<ContentPresenter
										x:Name="contentPresenter"
										Focusable="False"
										HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
										Margin="{TemplateBinding FrameworkElement.Margin}"
										RecognizesAccessKey="True"
										SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
										VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" />
									<Rectangle
										Name="rect"
										StrokeDashArray="4 4"
										Opacity="1"
										Stroke="{TemplateBinding Control.BorderBrush}"
										Width="{Binding ElementName=contentPresenter, Path=ActualWidth}" />
								</Grid>
							</Border>
							<ControlTemplate.Triggers>
								<Trigger
									Property="UIElement.IsMouseOver"
									Value="True">
									<Setter
										TargetName="rect"
										Property="Shape.Stroke"
										Value="#000000" />
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<Style
				x:Key="ShapeKindRadioButtonStyle"
				TargetType="{x:Type RadioButton}">
				<Setter
					Property="Foreground"
					Value="{DynamicResource TextBrushWhiteAndBlack}" />
				<Setter
					Property="Background"
					Value="{DynamicResource SolidBrushWhiteAndBlack}" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type RadioButton}">
							<Grid
								Background="#00FFFFFF">
								<Border
									x:Name="Border"
									BorderBrush="{DynamicResource TextBrushWhiteAndBlack}"
									BorderThickness="0"
									CornerRadius="4"
									Width="22"
									Height="22"
									Padding="0">
									<ContentPresenter
										HorizontalAlignment="Center"
										VerticalAlignment="Center"
										RecognizesAccessKey="True" />
								</Border>
							</Grid>
							<ControlTemplate.Triggers>
								<Trigger
									Property="ToggleButton.IsChecked"
									Value="True">
									<Setter
										TargetName="Border"
										Property="Border.BorderThickness"
										Value="1" />
									<Setter
										TargetName="Border"
										Value="{DynamicResource StampShapeSelectedBorderColor}"
										Property="Border.BorderBrush" />
								</Trigger>
								<Trigger
									Property="UIElement.IsMouseOver"
									Value="True">
									<Setter
										TargetName="Border"
										Property="Border.BorderThickness"
										Value="1" />
									<Setter
										TargetName="Border"
										Value="{DynamicResource MainViewSideBarBorder}"
										Property="Border.BorderBrush" />
								</Trigger>
								<Trigger
									Property="IsPressed"
									Value="True">
									<Setter
										TargetName="Border"
										Property="Border.BorderThickness"
										Value="1" />
									<Setter
										TargetName="Border"
										Value="{DynamicResource MainViewSideBarBorder}"
										Property="Border.BorderBrush" />
								</Trigger>
							</ControlTemplate.Triggers>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<Style
				x:Key="WrappingStyle"
				TargetType="{x:Type TextBlock}">
				<Setter
					Property="TextWrapping"
					Value="Wrap" />
			</Style>
			<Geometry
				x:Key="ColorSelectIndicator">m1.4186,6.19411l3.55283,3.76507l7.42857,-7.95918</Geometry>
			<Style
				x:Key="MoreColorButtonStyle"
				TargetType="{x:Type colorpickers:ColorPickerButton}">
				<Setter
					Property="Background"
					Value="#00FFFFFF" />
				<Setter
					Property="BorderBrush"
					Value="#99000000" />
				<Setter
					Property="Foreground"
					Value="#00FFFFFF" />
				<Setter
					Property="BorderThickness"
					Value="0" />
				<Setter
					Property="Width"
					Value="20" />
				<Setter
					Property="Height"
					Value="20" />
				<Setter
					Property="MinWidth"
					Value="0" />
				<Setter
					Property="MinHeight"
					Value="0" />
				<Setter
					Property="VerticalAlignment"
					Value="Center" />
				<Setter
					Property="colorpickers:ColorPickerButton.Placement"
					Value="Bottom" />
				<Setter
					Property="FrameworkElement.FocusVisualStyle"
					Value="{x:Null}" />
				<Setter
					Property="FrameworkElement.ToolTip"
					Value="{x:Static localprop:Resources.ColorPickerMoreColorsLabelContent}" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type colorpickers:ColorPickerButton}">
							<Grid
								Background="#00FFFFFF">
								<Image
									x:Name="content"
									Stretch="Uniform"
									Width="20"
									Height="20"
									Source="/Style/Resources/ContextMenu/ToolbarSetting_MoreColor.png"
									SnapsToDevicePixels="False"
									UseLayoutRounding="False" />
							</Grid>
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
			<cv:BooleanToVisibilityConverter
				x:Key="BooleanToVisibilityConverter" />
			<cv:ColorBrushConverter
				x:Key="ColorBrushConverter" />
			<cv2:ColorIndicatorConverter
				x:Key="ColorIndicatorConverter" />
			<cv:StampContentToVisibilityConverter
				x:Key="StampContentToVisibilityConverter" />
			<cv:StampContent2ToVisibilityConverter
				x:Key="StampContent2ToVisibilityConverter" />
			<cv:StampContentToIsEnabledConverter
				x:Key="StampContentToIsEnabledConverter" />
			<cv:StampCategoryNameSletectConverter
				x:Key="StampCategoryNameSletectConverter" />
		</ResourceDictionary>
	</FrameworkElement.Resources>
	<Grid
		Background="{DynamicResource MainWindowLeftMenuBackground}">
		<Grid.ColumnDefinitions>
			<ColumnDefinition
				Width="0.5*" />
			<ColumnDefinition
				Width="0.4*" />
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition
				Height="*" />
			<RowDefinition
				Height="80" />
		</Grid.RowDefinitions>
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition
					Height="50" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="120" />
			</Grid.RowDefinitions>
			<Grid>
				<ListBox
					Name="lstBoxMenu"
					ScrollViewer.VerticalScrollBarVisibility="Disabled"
					ScrollViewer.HorizontalScrollBarVisibility="Disabled"
					Height="52"
					MaxWidth="780"
					Grid.Row="1"
					HorizontalAlignment="Center"
					VerticalAlignment="Top"
					BorderThickness="0"
					Background="#00FFFFFF"
					Margin="0 2 0 0"
					SelectedIndex="0"
					ItemsSource="{Binding Menu}"
					SelectionChanged="lstBoxMenu_SelectionChanged">
					<FrameworkElement.Resources>
						<ResourceDictionary>
							<Style
								x:Key="{x:Type ListBoxItem}"
								TargetType="{x:Type ListBoxItem}">
								<Setter
									Property="FontSize"
									Value="13" />
								<Setter
									Property="BorderThickness"
									Value="0" />
								<Setter
									Property="HorizontalAlignment"
									Value="Center" />
								<Setter
									Property="Margin"
									Value="0 0 0 0" />
								<Setter
									Property="Template">
									<Setter.Value>
										<ControlTemplate
											TargetType="{x:Type ListBoxItem}">
											<Grid
												x:Name="templateRoot"
												MinHeight="28"
												MaxHeight="35"
												Background="#00FFFFFF"
												MinWidth="100"
												HorizontalAlignment="Center"
												SnapsToDevicePixels="True">
												<ContentPresenter
													x:Name="contentPresenter"
													MaxWidth="160"
													Focusable="False"
													HorizontalAlignment="Center"
													Margin="{TemplateBinding Control.Padding}"
													RecognizesAccessKey="True"
													SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
													VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}">
													<FrameworkElement.Resources>
														<ResourceDictionary>
															<Style
																x:Key="{x:Type TextBlock}"
																TargetType="{x:Type TextBlock}"
																BasedOn="{StaticResource WrappingStyle}" />
														</ResourceDictionary>
													</FrameworkElement.Resources>
												</ContentPresenter>
												<Border
													x:Name="bd"
													Width="45"
													Height="2"
													VerticalAlignment="Bottom"
													Margin="3 0 0 1"
													Background="#EF5B52" />
											</Grid>
											<ControlTemplate.Triggers>
												<Trigger
													Property="ListBoxItem.IsSelected"
													Value="True">
													<Setter
														TargetName="bd"
														Property="Visibility"
														Value="Visible" />
													<Setter
														Property="Foreground"
														Value="#FFFF0000" />
												</Trigger>
												<Trigger
													Property="ListBoxItem.IsSelected"
													Value="False">
													<Setter
														TargetName="bd"
														Property="Visibility"
														Value="Hidden" />
													<Setter
														Value="{DynamicResource TextBrushWhiteAndBlack}"
														Property="Foreground" />
												</Trigger>
												<Trigger
													Property="UIElement.IsMouseOver"
													Value="True">
													<Setter
														TargetName="templateRoot"
														Property="Panel.Background"
														Value="#10000000" />
												</Trigger>
											</ControlTemplate.Triggers>
										</ControlTemplate>
									</Setter.Value>
								</Setter>
							</Style>
						</ResourceDictionary>
					</FrameworkElement.Resources>
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel
								Orientation="Horizontal"
								IsItemsHost="True" />
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
					<ListBoxItem
						Content="{x:Static localprop:Resources.EditStampWinListMenuDynamicContent}" />
					<ListBoxItem
						Content="{x:Static localprop:Resources.RightMenuAddImageItemText}" />
				</ListBox>
				<Rectangle
					Margin="5 0 10 4"
					Height="1"
					HorizontalAlignment="Stretch"
					Fill="{DynamicResource HotKeyListCellBorderBrush}"
					VerticalAlignment="Bottom" />
			</Grid>
			<Grid
				Row="1"
				Visibility="{Binding ElementName=lstBoxMenu, Path=SelectedIndex, Converter='{StaticResource StampContent2ToVisibilityConverter}'}">
				<Grid
					Height="Auto">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="50" />
						<RowDefinition
							Height="5" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="*" />
					</Grid.ColumnDefinitions>
					<TextBlock
						Text="{x:Static localprop:Resources.WinSignatureMenuPictureContent}"
						MinWidth="75"
						Grid.Row="0"
						VerticalAlignment="Center"
						HorizontalAlignment="Left"
						Margin="20 0 0 0" />
					<StackPanel
						Orientation="Horizontal"
						Margin="10 0 0 0"
						Grid.Row="0"
						Grid.Column="1">
						<TextBox
							x:Name="ImageFilePath"
							Style="{StaticResource DefaultTextBoxStyle}"
							Visibility="Collapsed"
							Width="265"
							Height="22"
							IsReadOnly="True"
							Grid.Row="1"
							HorizontalAlignment="Left"
							VerticalAlignment="Center"
							ToolTip="{Binding Text, RelativeSource={RelativeSource Mode=Self}}" />
						<Button
							x:Name="PictureCtrl"
							Style="{StaticResource DefaultButtonStyle}"
							MaxWidth="160"
							Grid.Row="1"
							Margin="0 0 0 0"
							VerticalAlignment="Center"
							Padding="10 2"
							Height="32"
							commonCtrl:UIElementExtension.CornerRadius="4"
							Click="PictureCtrl_Click">
							<ContentControl.Content>
								<Grid
									HorizontalAlignment="Center">
									<Grid.ColumnDefinitions>
										<ColumnDefinition
											Width="auto" />
										<ColumnDefinition
											Width="auto" />
									</Grid.ColumnDefinitions>
									<TextBlock
										Text=""
										FontFamily="Segoe MDL2 Assets"
										HorizontalAlignment="Right"
										Margin="0 0 4 0"
										Foreground="#EF5B52"
										VerticalAlignment="Center" />
									<commonCtrl:AutoTooltipTextBlock
										MaxWidth="105"
										Text="{x:Static localprop:Resources.EditStampWinImageSelectedBtnContent}"
										Foreground="#EF5B52"
										FontSize="12"
										Grid.Column="1"
										HorizontalAlignment="Left"
										VerticalAlignment="Center" />
								</Grid>
							</ContentControl.Content>
						</Button>
					</StackPanel>
					<StackPanel
						Orientation="Horizontal"
						HorizontalAlignment="Left"
						Grid.Row="0"
						Grid.Column="2"
						Margin="10,0,0,0">
						<CheckBox
							x:Name="ckbRemoveBg"
							MaxWidth="138"
							Width="Auto"
							VerticalAlignment="Center"
							IsChecked="False"
							Style="{StaticResource DefaultCheckBoxStyle}">
							<commonCtrl:AutoTooltipTextBlock
								Text="{x:Static localprop:Resources.WinCreateSignatureRemoveBackground}"
								VerticalAlignment="Center"
								HorizontalAlignment="Center" />
						</CheckBox>
						<TextBlock
							Grid.Column="1"
							Margin="5,0,2,0"
							Text=""
							VerticalAlignment="Center"
							HorizontalAlignment="Center"
							FontFamily="Segoe MDL2 Assets"
							FontSize="14"
							ToolTipService.Placement="Right">
							<FrameworkElement.ToolTip>
								<TextBlock
									Width="140"
									TextWrapping="Wrap"
									Text="{x:Static localprop:Resources.WinCreateSignatureRemoveBackgroundToolTip}" />
							</FrameworkElement.ToolTip>
						</TextBlock>
					</StackPanel>
					<Rectangle
						Margin="5 0 10 0"
						Height="1"
						HorizontalAlignment="Stretch"
						Fill="{DynamicResource HotKeyListCellBorderBrush}"
						VerticalAlignment="Top"
						Grid.Row="1"
						Grid.ColumnSpan="4" />
				</Grid>
			</Grid>
			<Grid
				Row="1"
				Margin="20 0 0 0"
				Visibility="{Binding ElementName=lstBoxMenu, Path=SelectedIndex, Converter='{StaticResource StampContentToVisibilityConverter}'}">
				<Grid.ColumnDefinitions>
					<ColumnDefinition
						Width="90" />
					<ColumnDefinition
						Width="5" />
					<ColumnDefinition
						Width="*" />
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition
						Height="30" />
					<RowDefinition
						Height="30" />
					<RowDefinition
						Height="15" />
					<RowDefinition
						Height="50" />
					<RowDefinition
						Height="50" />
					<RowDefinition
						Height="50" />
					<RowDefinition
						Height="15" />
					<RowDefinition
						Height="35" />
					<RowDefinition
						Height="15" />
				</Grid.RowDefinitions>
				<commonCtrl:AutoTooltipTextBlock
					Text="{x:Static localprop:Resources.EditStampWinImageSelectedBtnContent}"
					HorizontalAlignment="Left"
					VerticalAlignment="Center" />
				<StackPanel
					Grid.Column="2"
					Orientation="Horizontal"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					ToggleButton.Checked="StackPanel_Checked">
					<RadioButton
						x:Name="ShapeEllipse"
						Style="{StaticResource ShapeKindRadioButtonStyle}"
						Margin="5 0"
						Height="22"
						Width="22"
						IsChecked="True"
						GroupName="ShapeKind">
						<Image
							Source="{DynamicResource StampEllipseImage}"
							Height="14"
							Width="14" />
					</RadioButton>
					<RadioButton
						x:Name="ShapeRechangle"
						Style="{StaticResource ShapeKindRadioButtonStyle}"
						Margin="5 0"
						Height="22"
						Width="22"
						GroupName="ShapeKind">
						<Image
							Source="{DynamicResource StampRechangleImage}"
							Height="12"
							Width="18" />
					</RadioButton>
					<RadioButton
						x:Name="ShapeSingleArrow"
						Style="{StaticResource ShapeKindRadioButtonStyle}"
						Margin="5 0"
						Height="22"
						Width="22"
						GroupName="ShapeKind">
						<Image
							Source="{DynamicResource StampSingleArrowImage}"
							Height="12"
							Width="18" />
					</RadioButton>
					<RadioButton
						x:Name="ShapeSingleReverseArrow"
						Style="{StaticResource ShapeKindRadioButtonStyle}"
						Margin="5 0"
						Height="22"
						Width="22"
						GroupName="ShapeKind">
						<Image
							Source="{DynamicResource StampSingleReverseArrowImage}"
							Height="12"
							Width="18" />
					</RadioButton>
					<RadioButton
						x:Name="ShapeDoubleArrow"
						Style="{StaticResource ShapeKindRadioButtonStyle}"
						Margin="5 0"
						Height="22"
						Width="22"
						GroupName="ShapeKind">
						<Image
							Source="{DynamicResource StampDoubleArrowImage}"
							Height="12"
							Width="18" />
					</RadioButton>
					<RadioButton
						x:Name="ShapeDoubleReverseArrow"
						Style="{StaticResource ShapeKindRadioButtonStyle}"
						Margin="5 0"
						Height="22"
						Width="22"
						GroupName="ShapeKind">
						<Image
							Source="{DynamicResource StampDoubleReverseArrowImage}"
							Height="12"
							Width="18" />
					</RadioButton>
				</StackPanel>
				<TextBlock
					Text="{x:Static localprop:Resources.LabelColorContent}"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					Grid.Row="1" />
				<Border
					x:Name="colorSelecters"
					Panel.ZIndex="999"
					Grid.Row="1"
					Grid.Column="2"
					HorizontalAlignment="Left"
					VerticalAlignment="Center">
					<FrameworkElement.Resources>
						<ResourceDictionary>
							<Style
								x:Key="ColorListBoxStyle"
								TargetType="{x:Type ListBox}">
								<Setter
									Property="BorderBrush"
									Value="#00FFFFFF" />
								<Setter
									Property="BorderThickness"
									Value="0" />
								<Setter
									Property="Background"
									Value="#00FFFFFF" />
								<Setter
									Property="ItemsPanel">
									<Setter.Value>
										<ItemsPanelTemplate>
											<StackPanel
												Orientation="Horizontal" />
										</ItemsPanelTemplate>
									</Setter.Value>
								</Setter>
								<Setter
									Property="ItemContainerStyle">
									<Setter.Value>
										<Style
											TargetType="{x:Type ListBoxItem}">
											<Setter
												Property="Width"
												Value="20" />
											<Setter
												Property="Height"
												Value="20" />
											<Setter
												Property="Margin"
												Value="6,0" />
											<Setter
												Property="Padding"
												Value="0" />
											<Setter
												Property="BorderBrush"
												Value="#000000" />
											<Setter
												Property="Template">
												<Setter.Value>
													<ControlTemplate
														TargetType="{x:Type ListBoxItem}">
														<Grid
															Background="#00FFFFFF">
															<Ellipse
																x:Name="content"
																Width="20"
																Height="20"
																SnapsToDevicePixels="False"
																UseLayoutRounding="False"
																Fill="{Binding Path=., Converter={StaticResource ColorBrushConverter}}" />
															<Ellipse
																x:Name="content3"
																Width="20"
																Height="20"
																SnapsToDevicePixels="False"
																UseLayoutRounding="False"
																Fill="#00FFFFFF"
																Stroke="{TemplateBinding Control.BorderBrush}"
																StrokeThickness="0" />
															<Viewbox
																x:Name="SelectedIndicator"
																Width="12"
																Height="12"
																HorizontalAlignment="Left"
																VerticalAlignment="Top"
																Focusable="False"
																Margin="3.5,5,0,0"
																Visibility="Collapsed">
																<Path
																	StrokeThickness="2"
																	StrokeStartLineCap="Round"
																	StrokeEndLineCap="Round"
																	StrokeLineJoin="Round"
																	Focusable="False"
																	Data="{StaticResource ColorSelectIndicator}"
																	Stroke="{Binding Path=., Converter={StaticResource ColorIndicatorConverter}}" />
															</Viewbox>
														</Grid>
														<ControlTemplate.Triggers>
															<Trigger
																Property="ListBoxItem.IsSelected"
																Value="True">
																<Setter
																	TargetName="SelectedIndicator"
																	Property="Visibility"
																	Value="Visible" />
															</Trigger>
														</ControlTemplate.Triggers>
													</ControlTemplate>
												</Setter.Value>
											</Setter>
										</Style>
									</Setter.Value>
								</Setter>
							</Style>
							<CompositeCollection
								x:Key="ColorCollection">
								<Color>#20C48F</Color>
								<Color>#298FEE</Color>
								<Color>#FF6932</Color>
								<Color>#B80000</Color>
							</CompositeCollection>
						</ResourceDictionary>
					</FrameworkElement.Resources>
					<StackPanel
						Orientation="Horizontal">
						<ListBox
							x:Name="ForegroundPickerList"
							Style="{StaticResource ColorListBoxStyle}"
							ItemsSource="{StaticResource ColorCollection}"
							SelectionMode="Single"
							SelectedIndex="0"
							SelectionChanged="ForegroundPickerList_SelectionChanged" />
						<colorpickers:ColorPickerButton
							x:Name="ForegroundPicker"
							Style="{StaticResource MoreColorButtonStyle}"
							VerticalAlignment="Center"
							Margin="6,0,0,0"
							SelectedColorChanged="ForegroundPicker_SelectedColorChanged" />
					</StackPanel>
				</Border>
				<Rectangle
					Margin="5 0 10 0"
					Height="1"
					HorizontalAlignment="Stretch"
					Fill="{DynamicResource HotKeyListCellBorderBrush}"
					Grid.Row="2"
					Grid.ColumnSpan="3" />
				<TextBlock
					Text="{x:Static localprop:Resources.EditStampWinStampContent1}"
					HorizontalAlignment="Left"
					VerticalAlignment="Top"
					Grid.Row="3"
					Margin="0 10 0 0" />
				<Grid
					VerticalAlignment="Top"
					HorizontalAlignment="Stretch"
					Margin="0 0 10 0"
					Row="3"
					Column="2">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="0.5*" />
						<ColumnDefinition
							Width="0.6*" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="35" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<ComboBox
						x:Name="Content1ComboBox"
						Style="{StaticResource DefaultComboBoxStyle}"
						Height="22"
						HorizontalAlignment="Stretch"
						Margin="0 0 5 0"
						SelectionChanged="DateFormatComboBox2_SelectionChanged">
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType1}"
							IsSelected="True" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType2}" />
					</ComboBox>
					<TextBox
						x:Name="TypeWriterCtrl1"
						HorizontalAlignment="Stretch"
						Style="{StaticResource DefaultTextBoxStyle}"
						Grid.RowSpan="2"
						commonCtrl:TextBoxExtensions.Placeholder="{x:Static localprop:Resources.WinStampSampleText}"
						Height="40"
						AcceptsReturn="True"
						Margin="5 0 0 0"
						Grid.Column="1"
						Visibility="{Binding ElementName=Content1ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContentToVisibilityConverter}'}"
						TextChanged="txt_Text_TextChanged" />
					<ComboBox
						x:Name="DateFormatComboBox1"
						Style="{StaticResource DefaultComboBoxStyle}"
						HorizontalAlignment="Stretch"
						Margin="5 0 0 0"
						Grid.Column="1"
						SelectedIndex="0"
						Height="22"
						Visibility="{Binding ElementName=Content1ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContent2ToVisibilityConverter}'}"
						TextBoxBase.TextChanged="DateFormatComboBox_TextChanged"
						SelectionChanged="DateFormatComboBox2_SelectionChanged" />
				</Grid>
				<TextBlock
					Text="{x:Static localprop:Resources.EditStampWinStampContent2}"
					HorizontalAlignment="Left"
					VerticalAlignment="Top"
					Margin="0 10 0 0"
					Grid.Row="4" />
				<Grid
					VerticalAlignment="Top"
					HorizontalAlignment="Stretch"
					Margin="0 0 10 0"
					Row="4"
					Column="2">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="0.5*" />
						<ColumnDefinition
							Width="0.6*" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="35" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<ComboBox
						x:Name="Content2ComboBox"
						Style="{StaticResource DefaultComboBoxStyle}"
						Height="22"
						HorizontalAlignment="Stretch"
						Margin="0 0 5 0"
						SelectionChanged="DateFormatComboBox2_SelectionChanged">
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType1}" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType2}"
							IsSelected="True" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType3}" />
					</ComboBox>
					<TextBox
						x:Name="TypeWriterCtrl2"
						Style="{StaticResource DefaultTextBoxStyle}"
						HorizontalAlignment="Stretch"
						Margin="5 0 0 0"
						Grid.Column="1"
						AcceptsReturn="True"
						Height="40"
						Grid.RowSpan="2"
						IsEnabled="{Binding ElementName=Content2ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContentToIsEnabledConverter}'}"
						Visibility="{Binding ElementName=Content2ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContentToVisibilityConverter}'}"
						TextChanged="txt_Text_TextChanged" />
					<ComboBox
						x:Name="DateFormatComboBox2"
						Style="{StaticResource DefaultComboBoxStyle}"
						HorizontalAlignment="Stretch"
						Margin="5 0 0 0"
						Grid.Column="1"
						SelectedIndex="0"
						Height="22"
						Visibility="{Binding ElementName=Content2ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContent2ToVisibilityConverter}'}"
						TextBoxBase.TextChanged="DateFormatComboBox_TextChanged"
						SelectionChanged="DateFormatComboBox2_SelectionChanged" />
				</Grid>
				<TextBlock
					Text="{x:Static localprop:Resources.EditStampWinStampContent3}"
					HorizontalAlignment="Left"
					VerticalAlignment="Top"
					Margin="0 10 0 0"
					Grid.Row="5" />
				<Grid
					VerticalAlignment="Top"
					HorizontalAlignment="Stretch"
					Margin="0 0 10 0"
					Row="5"
					Column="2">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="0.5*" />
						<ColumnDefinition
							Width="0.6*" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="35" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<ComboBox
						x:Name="Content3ComboBox"
						Style="{StaticResource DefaultComboBoxStyle}"
						Height="22"
						HorizontalAlignment="Stretch"
						Margin="0 0 5 0"
						SelectionChanged="DateFormatComboBox2_SelectionChanged">
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType1}" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType2}" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinContentType3}"
							IsSelected="True" />
					</ComboBox>
					<TextBox
						x:Name="TypeWriterCtrl3"
						Style="{StaticResource DefaultTextBoxStyle}"
						HorizontalAlignment="Stretch"
						Margin="5 0 0 0"
						Grid.Column="1"
						AcceptsReturn="True"
						Height="40"
						Grid.RowSpan="2"
						IsEnabled="{Binding ElementName=Content3ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContentToIsEnabledConverter}'}"
						Visibility="{Binding ElementName=Content3ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContentToVisibilityConverter}'}"
						TextChanged="txt_Text_TextChanged" />
					<ComboBox
						x:Name="DateFormatComboBox3"
						Style="{StaticResource DefaultComboBoxStyle}"
						HorizontalAlignment="Stretch"
						Margin="5 0 0 0"
						Grid.Column="1"
						SelectedIndex="0"
						Height="22"
						Visibility="{Binding ElementName=Content3ComboBox, Path=SelectedIndex, Converter='{StaticResource StampContent2ToVisibilityConverter}'}"
						TextBoxBase.TextChanged="DateFormatComboBox_TextChanged"
						SelectionChanged="DateFormatComboBox2_SelectionChanged" />
				</Grid>
				<Rectangle
					Margin="5 0 10 0"
					Height="1"
					HorizontalAlignment="Stretch"
					Fill="{DynamicResource HotKeyListCellBorderBrush}"
					Grid.Row="6"
					Grid.ColumnSpan="3" />
				<TextBlock
					Text="{x:Static localprop:Resources.EditStampWinFontTitle}"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					Grid.Row="7" />
				<Grid
					VerticalAlignment="Center"
					HorizontalAlignment="Stretch"
					Row="7"
					Column="2">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="0.48*" />
						<ColumnDefinition
							Width="0.6*" />
					</Grid.ColumnDefinitions>
					<ComboBox
						x:Name="FontComboBox"
						Style="{StaticResource DefaultComboBoxStyle}"
						HorizontalAlignment="Stretch"
						VerticalAlignment="Center"
						Grid.Column="0"
						Margin="0 0 10 0"
						SelectionChanged="FontComboBox_SelectionChanged">
						<ItemsControl.ItemTemplate>
							<DataTemplate>
								<TextBlock
									Text="{Binding}"
									FontFamily="{Binding}" />
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ComboBox>
					<ComboBox
						x:Name="FontSizeComboBox"
						Style="{StaticResource DefaultComboBoxStyle}"
						HorizontalAlignment="Stretch"
						VerticalAlignment="Center"
						Grid.Column="1"
						Margin="0 0 10 0"
						SelectionChanged="ComboBox_SelectionChanged">
						<ComboBoxItem
							Content="{x:Static localprop:Resources.TranslatePanelAuto}"
							IsSelected="True" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinMediumFontSize}" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinSmallFontSize}" />
						<ComboBoxItem
							Content="{x:Static localprop:Resources.EditStampWinLargeFontSize}" />
					</ComboBox>
				</Grid>
				<Rectangle
					Margin="5 0 10 0"
					Height="1"
					HorizontalAlignment="Stretch"
					Fill="{DynamicResource HotKeyListCellBorderBrush}"
					Grid.Row="8"
					Grid.ColumnSpan="3" />
			</Grid>
			<Grid
				Row="2"
				Margin="20 0 0 0">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="35" />
					<RowDefinition
						Height="35" />
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition
						Width="80" />
					<ColumnDefinition
						Width="5" />
					<ColumnDefinition
						Width="*" />
				</Grid.ColumnDefinitions>
				<CheckBox
					x:Name="SaveCheck"
					Content="{x:Static localprop:Resources.EditStampWinSaveCheckBoxContent}"
					Style="{StaticResource DefaultCheckBoxStyle}"
					Grid.Row="0"
					Grid.ColumnSpan="3"
					VerticalAlignment="Center"
					Margin="0 5"
					Checked="SaveCheck_Checked"
					Unchecked="SaveCheck_Unchecked" />
				<TextBlock
					Text="{x:Static localprop:Resources.EditStampWinStampName}"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					Grid.Row="1" />
				<TextBox
					x:Name="StampName"
					Text="{x:Static localprop:Resources.EditStampWinDefaultStampName}"
					Style="{StaticResource DefaultTextBoxStyle}"
					Grid.Row="1"
					Height="22"
					Grid.Column="2"
					VerticalAlignment="Center"
					Margin="0 0 10 0" />
				<TextBlock
					Text="{x:Static localprop:Resources.EditStampWinStampCategoryName}"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					Grid.Row="2" />
				<Grid
					VerticalAlignment="Center"
					HorizontalAlignment="Stretch"
					Margin="0 0 10 0"
					Row="2"
					Column="2">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="0.48*" />
						<ColumnDefinition
							Width="0.6*" />
					</Grid.ColumnDefinitions>
					<ComboBox
						x:Name="CategoryComboBox"
						Style="{StaticResource DefaultComboBoxStyle}"
						HorizontalAlignment="Stretch"
						SelectedIndex="0"
						Margin="0 0 5 0"
						SelectionChanged="CategoryComboBox_SelectionChanged" />
					<TextBox
						x:Name="NewCategoryName"
						VerticalContentAlignment="Center"
						commonCtrl:TextBoxExtensions.Placeholder="Type here..."
						Style="{StaticResource DefaultTextBoxStyle}"
						HorizontalAlignment="Stretch"
						Margin="5 0 0 0"
						Grid.Column="1"
						Visibility="{Binding ElementName=CategoryComboBox, Path=SelectedIndex, Converter='{StaticResource StampCategoryNameSletectConverter}'}"
						IsEnabled="{Binding ElementName=CategoryComboBox, Path=SelectedIndex, Converter='{StaticResource StampContentToIsEnabledConverter}'}"
						TextChanged="NewCategoryName_TextChanged" />
				</Grid>
			</Grid>
		</Grid>
		<Grid
			Column="1"
			Margin="0 10 10 0"
			Background="{DynamicResource BatchPrintSiderbarBackground}">
			<Grid
				VerticalAlignment="Center">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="50" />
					<RowDefinition
						Height="*" />
				</Grid.RowDefinitions>
				<TextBlock
					Text="{x:Static localprop:Resources.WinPagePreviewLabelContent}"
					VerticalAlignment="Center"
					Margin="10 0"
					HorizontalAlignment="Left" />
				<Border
					BorderThickness="1"
					ClipToBounds="True"
					Grid.Row="1"
					CornerRadius="4"
					BorderBrush="#D2D2D2"
					Height="200"
					Margin="10 0"
					Background="{DynamicResource SolidBrushWhiteAndBlack}"
					HorizontalAlignment="Stretch"
					VerticalAlignment="Stretch"
					Visibility="{Binding ElementName=lstBoxMenu, Path=SelectedIndex, Converter='{StaticResource StampContentToVisibilityConverter}'}">
					<Border
						x:Name="PreviewImageBorder"
						BorderThickness="0"
						HorizontalAlignment="Center"
						VerticalAlignment="Center"
						Width="180"
						Height="180">
						<stamp:DynamicStampPreview
							x:Name="PreviewImageContainer"
							HorizontalAlignment="Stretch"
							VerticalAlignment="Stretch" />
					</Border>
				</Border>
				<Border
					BorderThickness="1"
					Grid.Row="1"
					CornerRadius="4"
					BorderBrush="#D2D2D2"
					Background="#FFF5F5F5"
					Margin="10 0"
					HorizontalAlignment="Stretch"
					VerticalAlignment="Stretch"
					Visibility="{Binding ElementName=lstBoxMenu, Path=SelectedIndex, Converter='{StaticResource StampContent2ToVisibilityConverter}'}">
					<Image
						x:Name="showPicture"
						Width="Auto"
						Height="200"
						Margin="20 0"
						Stretch="Uniform" />
				</Border>
			</Grid>
		</Grid>
		<Grid
			Row="1"
			Height="56"
			ColumnSpan="2">
			<Rectangle
				Height="1"
				HorizontalAlignment="Stretch"
				VerticalAlignment="Top"
				Margin="10 0"
				Fill="#D2D2D2" />
			<StackPanel
				Orientation="Horizontal"
				Margin="20,0"
				HorizontalAlignment="Right"
				VerticalAlignment="Center">
				<Button
					x:Name="btnCancel"
					Style="{StaticResource DialogButtonStyle}"
					Content="{x:Static localprop:Resources.WinBtnCancelContent}"
					FontSize="12" />
				<Button
					x:Name="btnOk"
					Style="{StaticResource PrimaryDialogButtonStyle}"
					Content="{x:Static localprop:Resources.WinBtnOkContent}"
					Margin="10,0,0,0"
					FontSize="12"
					IsEnabled="{Binding StampClearVisible, RelativeSource={RelativeSource Mode=FindAncestor, AncestorLevel=1, AncestorType={x:Type Window}}}" />
			</StackPanel>
		</Grid>
	</Grid>
</Window>
